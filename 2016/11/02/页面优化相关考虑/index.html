<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>页面优化 | yangrs personal blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="12345前端优化的目的是什么1. 从用户角度而言，优化能够让页面加载得更快、对用户的操作响应得更及时，能够给用户提供更为友好的体验。2. 从服务商角度而言，优化能够减少页面请求数、或者减小请求所占带宽，能够节省可观的资源。总之，恰当的优化不仅能够改善站点的用户体验并且能够节省相当的资源利用。前端优化的途径有很多，按粒度大致可以分为两类，第一类是页面级别的优化，例如HTTP请求数、脚本的无阻塞加载">
<meta property="og:type" content="article">
<meta property="og:title" content="页面优化">
<meta property="og:url" content="http://yangrunshuang.github.io/2016/11/02/页面优化相关考虑/index.html">
<meta property="og:site_name" content="yangrs personal blog">
<meta property="og:description" content="12345前端优化的目的是什么1. 从用户角度而言，优化能够让页面加载得更快、对用户的操作响应得更及时，能够给用户提供更为友好的体验。2. 从服务商角度而言，优化能够减少页面请求数、或者减小请求所占带宽，能够节省可观的资源。总之，恰当的优化不仅能够改善站点的用户体验并且能够节省相当的资源利用。前端优化的途径有很多，按粒度大致可以分为两类，第一类是页面级别的优化，例如HTTP请求数、脚本的无阻塞加载">
<meta property="og:updated_time" content="2016-11-14T02:06:30.762Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="页面优化">
<meta name="twitter:description" content="12345前端优化的目的是什么1. 从用户角度而言，优化能够让页面加载得更快、对用户的操作响应得更及时，能够给用户提供更为友好的体验。2. 从服务商角度而言，优化能够减少页面请求数、或者减小请求所占带宽，能够节省可观的资源。总之，恰当的优化不仅能够改善站点的用户体验并且能够节省相当的资源利用。前端优化的途径有很多，按粒度大致可以分为两类，第一类是页面级别的优化，例如HTTP请求数、脚本的无阻塞加载">
  
    <link rel="alternative" href="/atom.xml" title="yangrs personal blog" type="application/atom+xml">
  
  
    <link rel="icon" href="favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="https://yangrunshuang.github.io/img/1456278691276.png" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">yangrunshuang</a></h1>
        </hgroup>

        
        
        <form><input type="text" class="search" placeholder=" Search..."></form>
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/archives/">作品展示</a></li>
                        
                            <li><a href="/note/">我的随笔</a></li>
                        
                            <li><a href="/tags/">留言打卡</a></li>
                        
                            <li><a href="/about/">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="/yangrs619@aliyun.com" title="Email"></a></li>
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="/sina weibo" title="新浪微博"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="/yangrunshuang.github.io" title="GitHub"></a></li>
                            
                                <li id="知乎"><a class="知乎" target="_blank" href="/zhihu" title="知乎"></a></li>
                            
                                <li id="豆瓣"><a class="豆瓣" target="_blank" href="/douban" title="豆瓣"></a></li>
                            
                                <li id="Google"><a class="Google" target="_blank" href="/www.google.com" title="Google"></a></li>
                            
                                <li id="QQ"><a class="QQ" target="_blank" href="/qq" title="QQ"></a></li>
                            
                                <li id="微信"><a class="微信" target="_blank" href="/Wechat" title="微信"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="/yangrunshuang.github.io">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">yangrunshuang</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img lazy-src="https://yangrunshuang.github.io/img/1456278691276.png" class="js-avatar">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">yangrunshuang</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/archives/">作品展示</a></li>
                
                    <li><a href="/note/">我的随笔</a></li>
                
                    <li><a href="/tags/">留言打卡</a></li>
                
                    <li><a href="/about/">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="/yangrs619@aliyun.com" title="Email"></a></li>
                            
                                <li id="新浪微博"><a class="新浪微博" target="_blank" href="/sina weibo" title="新浪微博"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="/yangrunshuang.github.io" title="GitHub"></a></li>
                            
                                <li id="知乎"><a class="知乎" target="_blank" href="/zhihu" title="知乎"></a></li>
                            
                                <li id="豆瓣"><a class="豆瓣" target="_blank" href="/douban" title="豆瓣"></a></li>
                            
                                <li id="Google"><a class="Google" target="_blank" href="/www.google.com" title="Google"></a></li>
                            
                                <li id="QQ"><a class="QQ" target="_blank" href="/qq" title="QQ"></a></li>
                            
                                <li id="微信"><a class="微信" target="_blank" href="/Wechat" title="微信"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-页面优化相关考虑" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/02/页面优化相关考虑/" class="article-date">
      <time datetime="2016-11-01T16:00:00.000Z" itemprop="datePublished">2016-11-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      页面优化
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">前端优化的目的是什么</div><div class="line"><span class="number">1.</span> 从用户角度而言，优化能够让页面加载得更快、对用户的操作响应得更及时，能够给用户提供更为友好的体验。</div><div class="line"><span class="number">2.</span> 从服务商角度而言，优化能够减少页面请求数、或者减小请求所占带宽，能够节省可观的资源。</div><div class="line">总之，恰当的优化不仅能够改善站点的用户体验并且能够节省相当的资源利用。</div><div class="line">前端优化的途径有很多，按粒度大致可以分为两类，第一类是页面级别的优化，例如HTTP请求数、脚本的无阻塞加载、内联脚本的位置优化等;第二类则是代码级别的优化，例如Javascript中的DOM操作优化、CSS选择符优化、图片优化以及HTML结构优化等等。另外，本着提高投入产出比的目的，后文提到的各种优化策略大致按照投入产出比从大到小的顺序排列。</div></pre></td></tr></table></figure>
<p>一、页面级优化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">1. 减少HTTP请求数</div><div class="line">这条策略基本上所有前端人都知道，而且也是最重要最有效的。都说要减少HTTP请求，那请求多了到底会怎么样呢?首先，每个请求都是有成本的，既包含时间成本也包含资源成本。一个完整的请求都需要经过DNS寻址、与服务器建立连接、发送数据、等待服务器响应、接收数据这样一个”漫长”而复杂的过程。时间成本就是用户需要看到或者”感受”到这个资源是必须要等待这个过程结束的，资源上由于每个请求都需要携带数据，因此每个请求都需要占用带宽。另外，由于浏览器进行并发请求的请求数是有上限的(具体参见此处)，因此请求数多了以后，浏览器需要分批进行请求，因此会增加用户的等待时间，会给用户造成站点速度慢这样一个印象，即使可能用户能看到的第一屏的资源都已经请求完了，但是浏览器的进度条会一直存在。</div><div class="line">减少HTTP请求数的主要途径包括：</div><div class="line">(1). 从设计实现层面简化页面</div><div class="line">如果你的页面像百度首页一样简单，那么接下来的规则基本上都用不着了。保持页面简洁、减少资源的使用时最直接的。如果不是这样，你的页面需要华丽的皮肤，则继续阅读下面的内容。</div><div class="line"> </div><div class="line">(2). 合理设置HTTP缓存</div><div class="line">缓存的力量是强大的，恰当的缓存设置可以大大的减少HTTP请求。以有啊首页为例，当浏览器没有缓存的时候访问一共会发出78个请求，共600多K数据(如图1.1)，而当第二次访问即浏览器已缓存之后访问则仅有10个请求，共20多K数据(如图1.2)。(这里需要说明的是，如果直接F5刷新页面的话效果是不一样的，这种情况下请求数还是一样，不过被缓存资源的请求服务器是304响应，只有Header没有Body，可以节省带宽)</div><div class="line">怎样才算合理设置?原则很简单，能缓存越多越好，能缓存越久越好。例如，很少变化的图片资源可以直接通过HTTP Header中的Expires设置一个很长的过期头;变化不频繁而又可能会变的资源可以使用Last-Modifed来做请求验证。尽可能的让资源能够在缓存中待得更久。关于HTTP缓存的具体设置和原理此处就不再详述了，有兴趣的可以参考下列文章：</div><div class="line">HTTP1.1协议中关于缓存策略的描述</div><div class="line">Fiddler HTTP Performance中关于缓存的介绍</div><div class="line"> </div><div class="line">(3). 资源合并与压缩</div><div class="line">如果可以的话，尽可能的将外部的脚本、样式进行合并，多个合为一个。另外，CSS、Javascript、Image都可以用相应的工具进行压缩，压缩后往往能省下不少空间。</div><div class="line"> </div><div class="line">(4). CSS Sprites</div><div class="line">合并CSS图片，减少请求数的又一个好办法。</div><div class="line"> </div><div class="line">(5). Inline Images</div><div class="line">使用data: URL scheme的方式将图片嵌入到页面或CSS中，如果不考虑资源管理上的问题的话，不失为一个好办法。如果是嵌入页面的话换来的是增大了页面的体积，而且无法利用浏览器缓存。使用在CSS中的图片则更为理想一些</div><div class="line"> </div><div class="line">(6). Lazy Load Image</div><div class="line">这条策略实际上并不一定能减少HTTP请求数，但是却能在某些条件下或者页面刚加载时减少HTTP请求数。对于图片而言，在页面刚加载的时候可以只加载第一屏，当用户继续往后滚屏的时候才加载后续的图片。这样一来，假如用户只对第一屏的内容感兴趣时，那剩余的图片请求就都节省了。有啊首页曾经的做法是在加载的时候把第一屏之后的图片地址缓存在Textarea标签中，待用户往下滚屏的时候才”惰性”加载。</div><div class="line"> </div><div class="line">2. 将外部脚本置底</div><div class="line">前文有谈到，浏览器是可以并发请求的，这一特点使得其能够更快的加载资源，然而外链脚本在加载时却会阻塞其他资源，例如在脚本加载完成之前，它后面的图片、样式以及其他脚本都处于阻塞状态，直到脚本加载完成后才会开始加载。如果将脚本放在比较靠前的位置，则会影响整个页面的加载速度从而影响用户体验。解决这一问题的方法有很多，在这里有比较详细的介绍(这里是译文和更详细的例子)，而最简单可依赖的方法就是将脚本尽可能的往后挪，减少对并发下载的影响。</div><div class="line"> </div><div class="line">3. 异步执行inline脚本</div><div class="line">inline脚本对性能的影响与外部脚本相比，是有过之而无不及。首页，与外部脚本一样，inline脚本在执行的时候一样会阻塞并发请求，除此之外，由于浏览器在页面处理方面是单线程的，当inline脚本在页面渲染之前执行时，页面的渲染工作则会被推迟。简而言之，inline脚本在执行的时候，页面处于空白状态。鉴于以上两点原因，建议将执行时间较长的inline脚本异步执行，异步的方式有很多种，例如使用script元素的defer属性(存在兼容性问题和其他一些问题，例如不能使用document.write)、使用setTimeout，此外，在HTML5中引入了Web Workers的机制，恰恰可以解决此类问题</div><div class="line"> </div><div class="line">4. Lazy Load Javascript</div><div class="line">随着JavaScript框架的流行，越来越多的站点也使用起了框架。不过，一个框架往往包括了很多的功能实现，这些功能并不是每一个页面都需要的，如果下载了不需要的脚本则算得上是一种资源浪费-既浪费了带宽又浪费了执行花费的时间。目前的做法大概有两种，一种是为那些流量特别大的页面专门定制一个专用的mini版框架，另一种则是Lazy Load。YUI则使用了第二种方式，在YUI的实现中，最初只加载核心模块，其他模块可以等到需要使用的时候才加载</div><div class="line"> </div><div class="line">5. 将CSS放在HEAD中</div><div class="line">如果将CSS放在其他地方比如BODY中，则浏览器有可能还未下载和解析到CSS就已经开始渲染页面了，这就导致页面由无CSS状态跳转到CSS状态，用户体验比较糟糕。除此之外，有些浏览器会在CSS下载完成后才开始渲染页面，如果CSS放在靠下的位置则会导致浏览器将渲染时间推迟。</div><div class="line"> </div><div class="line">6. 异步请求Callback</div><div class="line">在某些页面中可能存在这样一种需求，需要使用script标签来异步的请求数据。类似：</div><div class="line">Javascript:</div><div class="line">/*Callback函数*/  </div><div class="line">function myCallback(info)&#123;  </div><div class="line">//do something here  </div><div class="line">&#125; </div><div class="line">HTML:</div><div class="line">&lt;script type=”text/javascript” src=”http://abc.com/cb”&gt;&lt;/script&gt; </div><div class="line">cb返回的内容:</div><div class="line">myCallback(‘Hello world!’); </div><div class="line">      像以上这种方式直接在页面上写&lt;script&gt;对页面的性能也是有影响的，即增加了页面首次加载的负担，推迟了DOMLoaded和window.onload事件的触发时机。如果时效性允许的话，可以考虑在DOMLoaded事件触发的时候加载，或者使用setTimeout方式来灵活的控制加载的时机。</div><div class="line"> </div><div class="line">7. 减少不必要的HTTP跳转</div><div class="line">对于以目录形式访问的HTTP链接，很多人都会忽略链接最后是否带’/’，假如你的服务器对此是区别对待的话，那么你也需要注意，这其中很可能隐藏了301跳转，增加了多余请求。具体参见下图，其中第一个链接是以无’/’结尾的方式访问的，于是服务器有了一次跳转。</div><div class="line"> </div><div class="line">8. 避免重复的资源请求</div><div class="line">这种情况主要是由于疏忽或页面由多个模块拼接而成，然后每个模块中请求了同样的资源时，会导致资源的重复请求</div></pre></td></tr></table></figure></p>
<p>二、代码级优化<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">1. Javascript</div><div class="line">(1). DOM</div><div class="line">DOM操作应该是脚本中最耗性能的一类操作，例如增加、修改、删除DOM元素或者对DOM集合进行操作。如果脚本中包含了大量的DOM操作则需要注意以下几点：</div><div class="line">a. HTML Collection</div><div class="line">在脚本中document.images、document.forms、getElementsByTagName()返回的都是HTMLCollection类型的集合，在平时使用的时候大多将它作为数组来使用，因为它有length属性，也可以使用索引访问每一个元素。不过在访问性能上则比数组要差很多，原因是这个集合并不是一个静态的结果，它表示的仅仅是一个特定的查询，每次访问该集合时都会重新执行这个查询从而更新查询结果。所谓的”访问集合”包括读取集合的length属性、访问集合中的元素。</div><div class="line">因此，当你需要遍历HTML Collection的时候，尽量将它转为数组后再访问，以提高性能。即使不转换为数组，也请尽可能少的访问它，例如在遍历的时候可以将length属性、成员保存到局部变量后再使用局部变量。</div><div class="line">b. Reflow &amp; Repaint</div><div class="line">除了上面一点之外，DOM操作还需要考虑浏览器的Reflow和Repaint，因为这些都是需要消耗资源的，具体的可以参加以下文章：</div><div class="line">如何减少浏览器的repaint和reflow?</div><div class="line">Understanding Internet Explorer Rendering Behaviour</div><div class="line">Notes on HTML Reflow</div><div class="line"> </div><div class="line">(2). 慎用with</div><div class="line">       with(obj)&#123; p = 1&#125;; 代码块的行为实际上是修改了代码块中的执行环境，将obj放在了其作用域链的最前端，在with代码块中访问非局部变量是都是先从obj上开始查找，如果没有再依次按作用域链向上查找，因此使用with相当于增加了作用域链长度。而每次查找作用域链都是要消耗时间的，过长的作用域链会导致查找性能下降。</div><div class="line">因此，除非你能肯定在with代码中只访问obj中的属性，否则慎用with，替代的可以使用局部变量缓存需要访问的属性。</div><div class="line"> </div><div class="line">(3). 避免使用eval和Function</div><div class="line">每次 eval 或 Function 构造函数作用于字符串表示的源代码时，脚本引擎都需要将源代码转换成可执行代码。这是很消耗资源的操作 —— 通常比简单的函数调用慢100倍以上。</div><div class="line">eval 函数效率特别低，由于事先无法知晓传给 eval 的字符串中的内容，eval在其上下文中解释要处理的代码，也就是说编译器无法优化上下文，因此只能有浏览器在运行时解释代码。这对性能影响很大。</div><div class="line">Function 构造函数比eval略好，因为使用此代码不会影响周围代码;但其速度仍很慢。</div><div class="line">此外，使用eval和Function也不利于Javascript压缩工具执行压缩。</div><div class="line"> </div><div class="line">(4). 减少作用域链查找</div><div class="line">前文谈到了作用域链查找问题，这一点在循环中是尤其需要注意的问题。如果在循环中需要访问非本作用域下的变量时请在遍历之前用局部变量缓存该变量，并在遍历结束后再重写那个变量，这一点对全局变量尤其重要，因为全局变量处于作用域链的最顶端，访问时的查找次数是最多的。</div><div class="line">低效率的写法：</div><div class="line">//全局变量  </div><div class="line">var globalVar = 1;  </div><div class="line">function myCallback(info)&#123;  </div><div class="line">   for( var i = 100000; i–;)&#123;  </div><div class="line">      //每次访问globalVar都需要查找到作用域链最顶端，本例中需要访问100000次  </div><div class="line">      globalVar += i;  </div><div class="line">   &#125; </div><div class="line">&#125; </div><div class="line">更高效的写法：</div><div class="line">//全局变量  </div><div class="line">var globalVar = 1;  </div><div class="line">function myCallback(info)&#123;  </div><div class="line">   //局部变量缓存全局变量  </div><div class="line">   var localVar = globalVar;  </div><div class="line">   for( var i = 100000; i–;)&#123;  </div><div class="line">      //访问局部变量是最快的  </div><div class="line">      localVar += i;  </div><div class="line">   &#125;  </div><div class="line">   //本例中只需要访问2次全局变量  </div><div class="line">   globalVar = localVar;  </div><div class="line">&#125;</div><div class="line">此外，要减少作用域链查找还应该减少闭包的使用。</div><div class="line">(5). 数据访问</div><div class="line">Javascript中的数据访问包括直接量(字符串、正则表达式)、变量、对象属性以及数组，其中对直接量和局部变量的访问是最快的，对对象属性以及数组的访问需要更大的开销。当出现以下情况时，建议将数据放入局部变量：</div><div class="line">a. 对任何对象属性的访问超过1次</div><div class="line">b. 对任何数组成员的访问次数超过1次</div><div class="line">另外，还应当尽可能的减少对对象以及数组深度查找。</div><div class="line">(6). 字符串拼接</div><div class="line">在Javascript中使用”+”号来拼接字符串效率是比较低的，因为每次运行都会开辟新的内存并生成新的字符串变量，然后将拼接结果赋值给新变量。与之相比更为高效的做法是使用数组的join方法，即将需要拼接的字符串放在数组中最后调用其join方法得到结果。不过由于使用数组也有一定的开销，因此当需要拼接的字符串较多的时候可以考虑用此方法。</div><div class="line">关于Javascript优化的更详细介绍请参考：</div><div class="line">Write Efficient Javascript(PPT)</div><div class="line">Efficient JavaScript</div><div class="line">2. CSS选择符</div><div class="line">在大多数人的观念中，都觉得浏览器对CSS选择符的解析式从左往右进行的，例如</div><div class="line">#toc A &#123; color: #444; &#125; </div><div class="line">这样一个选择符，如果是从右往左解析则效率会很高，因为第一个ID选择基本上就把查找的范围限定了，但实际上浏览器对选择符的解析是从右往左进行的。如上面的选择符，浏览器必须遍历查找每一个A标签的祖先节点，效率并不像之前想象的那样高。根据浏览器的这一行为特点，在写选择符的时候需要注意很多事项，有人已经一一列举了，详情参考此处。</div><div class="line">3. HTML</div><div class="line">对HTML本身的优化现如今也越来越多的受人关注了，详情可以参见这篇总结性文章。</div><div class="line">4. Image压缩</div><div class="line">图片压缩是个技术活，不过现如今这方面的工具也非常多，压缩之后往往能带来不错的效果，具体的压缩原理以及方法在《Even Faster Web Sites》第10章有很详细的介绍，有兴趣的可以去看看。</div></pre></td></tr></table></figure></p>
<p>总结<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">本文从页面级以及代码级两个粒度对前端优化的各种方式做了一个总结，这些方法基本上都是前端开发人员在开发的过程中可以借鉴和实践的，除此之外，完整的前端优化还应该包括很多其他的途径，例如CDN、Gzip、多域名、无Cookie服务器等等，由于对于开发人员的可操作性并不强大，在此也就不多叙述了，详细的可以参考Yahoo和Google的这些”金科玉律”。1.Javascript简介</div><div class="line">HTML是纯静态的的页面，而Javascript让页面有了动态的效果，比如;OA中模块的拖拉</div><div class="line">所有的浏览器都会内置Javascript的解释器</div><div class="line">1992年 Nombas公司开发出C减减的嵌入式脚本语言。这是最好的HTML页面的脚本语言。</div><div class="line">Netscape为了扩展其浏览器的功能，开发了一套LiveScript，并与1995年与SUN公司联合把其改名为javascript,它的主要目的是处理一些输入的有效性验证，而之前这个工作是留给perl之类的服务器端语言完成，在以前使用电话线调制解调器(28.8kb/s)的时代，如此慢的与服务器交互，这绝对是一件很痛苦的事情。Javascript的出现，解决了这个问题，因为它的验证是基于客户端的。</div><div class="line">微软公司早期版本的浏览器仅支持自己的vbscript，但后来不得不加入javascript</div><div class="line">IE3中搭载Javascipt的克隆版本，命名为jscript</div><div class="line">在一次技术会议中，sun，microsoft，netscape公司联合制定了ECMA-Script标准</div><div class="line">在2005前，网页上提示框，广告越来越多，把javascipt滥用，使javascript背上了大量的罪名。</div><div class="line">2005年，google公司的网上产品（google地图，gmail，google搜索建议）等使得ajax兴起，而javascript便是ajax最重要的元素之一</div></pre></td></tr></table></figure></p>
<p>Javascript有三个部分组成</p>
<ul>
<li>ECMAScript DOM BOM</li>
</ul>
<p>WEB标准</p>
<ul>
<li>网页主要有三部分组成<ul>
<li>（结构HTML,XHTML，表现CSS，行为DOM，ECMA）</li>
</ul>
</li>
</ul>
<p>2.ECMA脚本</p>
<ul>
<li>Javascript的语法<ul>
<li>区分大小写</li>
<li>弱类型变量 var age=10 var name=”dd”</li>
<li>每行结尾的分号可有可无，但建议还是加上</li>
<li>注释与java相同</li>
</ul>
</li>
</ul>
<p>变量</p>
<p>变量是通过var关键字来声明的。（Variable）<br>变量的命名规则与Java一致</p>
<p>注释有三种：// /**/ &lt;!– –&gt;这个只能注释单行</p>
<p>2.1 javascript的Hello world</p>
<p>document.write()是写在文档的最前面</p>
<p>2.2 slice()、substring()、subtr()</p>
<ul>
<li>slice和substring (2,5) 指的是从第3位开始，取（5-2）=3个数，其中slice的参数可以为负</li>
<li>substr（2,5）指的是从第3为开始，取5个数。但ECMAscript 没有对该方法进行标准化，因此尽量少使用该方法<br>2.3 indexOf()和lastIndexOf(),isNaN,typeOf<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">indexOf（”i”） //从前往后,i在第几位</div><div class="line">indexOf（”i”,3）可选参数，从第几个字符开始往后找</div><div class="line">lastIndexOf（”i”） //从后往前,i在第几位</div><div class="line">lastIndexOf(“i”,3) //从后往前,i在第几位</div><div class="line">如果没找到，则返回-1</div><div class="line">String类型的变量，在Java中，用""符号表示字符串，用"表示单个字符。而在javascript中这两种都可以</div><div class="line">NaN（not a number）</div><div class="line">Alert(nan ==nan)返回false,因此不推荐使用nan本身，推荐函数isNaN</div><div class="line">Alert(isNaN(“ab”));//返回true</div><div class="line">typeof运算符</div><div class="line">var stmp = “test”;</div><div class="line">alert(typeof stmp); //输出'string'</div><div class="line">alert(typeof 1);//输出'number'</div><div class="line">此外：还有boolean,undefined,object(如果是引用类型或者null值,null值返回'object'，这其实是ecmascript的一个错误)</div><div class="line">当声明的变量未初始化的时候，它的值就是undefined.当没有这个变量的时候，typeof 变量</div><div class="line">返回的值也是undefined。但是没声明的变量是不能参与计算的。</div><div class="line">当函数无明确返回值时，返回的也是undefined</div><div class="line">Function a()&#123;</div><div class="line">&#125;</div><div class="line">Alert(a() == undefined) //返回true</div><div class="line">Alert(null == undefined)//返回true</div></pre></td></tr></table></figure>
</li>
</ul>
<p>2.4 数值计算<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var mynum1 = 23.345;</div><div class="line">var mynum2 = 45;</div><div class="line">var mynum3 = -34;</div><div class="line">var mynum4 = 9e5;        //科学计数法为 9*10五次方</div><div class="line">var fNumber = 123.456;</div><div class="line">alert(fNumber.toExponential(1));//保留的小数点数 1.2e+2</div><div class="line">alert(fNumber.toExponential(2));//1.23e+2</div></pre></td></tr></table></figure></p>
<p>.5 布尔值<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> married = <span class="literal">true</span>;</div><div class="line">alert(“<span class="number">1.</span>” + <span class="keyword">typeof</span>(married));<span class="comment">//Boolean</span></div><div class="line">married = “<span class="literal">true</span>”;</div><div class="line">alert(“<span class="number">2.</span>” + <span class="keyword">typeof</span>(married));<span class="comment">//String</span></div></pre></td></tr></table></figure></p>
<p>.6 类型转换<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">转换成string类型有三种方式</div><div class="line"><span class="keyword">var</span> a = <span class="number">3</span>;</div><div class="line"><span class="keyword">var</span> b = a + “”;</div><div class="line"><span class="keyword">var</span> c = a.toString();</div><div class="line"><span class="keyword">var</span> d = “student” + a;</div><div class="line"> </div><div class="line">toString()</div><div class="line"><span class="keyword">var</span> a=<span class="number">11</span>;</div><div class="line"><span class="built_in">document</span>.write(a.toString(<span class="number">2</span>) + “&lt;br&gt;”);<span class="comment">//转成2进制</span></div><div class="line"><span class="built_in">document</span>.write(a.toString(<span class="number">3</span>) + “&lt;br&gt;”);<span class="comment">//转成3进制</span></div><div class="line">如果不是数值，则转换报错</div><div class="line"> </div><div class="line"><span class="built_in">parseInt</span>()</div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">parseInt</span>(“<span class="number">1</span>red6″) + “&lt;br&gt;”);<span class="comment">//返回1，后面非数值的将全部忽略</span></div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">parseInt</span>(“<span class="number">53.5</span>″) + “&lt;br&gt;”);<span class="comment">//返回53</span></div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">parseInt</span>(“<span class="number">0xC</span>”) + “&lt;br&gt;”);    <span class="comment">//直接十进制转换12</span></div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">parseInt</span>(“isaacshun@gmail.com”) + “&lt;br&gt;”);<span class="comment">//NAN</span></div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">parseInt</span>(“<span class="number">011</span>″,<span class="number">8</span>) + “&lt;br&gt;”);返回<span class="number">9</span></div><div class="line"><span class="built_in">document</span>.write(<span class="built_in">parseInt</span>(“<span class="number">011</span>″,<span class="number">10</span>) + “&lt;br&gt;”);    <span class="comment">//指定为十进制返回11</span></div><div class="line"> </div><div class="line"><span class="built_in">parseFloat</span>()与<span class="built_in">parseInt</span>()类似</div></pre></td></tr></table></figure></p>
<p>2.7 数组<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">var aMap = new Array(“China”,”USA”,”Britain”);</div><div class="line">aMap[20] = “Korea”;</div><div class="line">alert(aMap.length + ” ” + aMap[10] + ” ” + aMap[20]);</div><div class="line">//"21 undefined Korea" aMap[10]返回undefined</div><div class="line"> </div><div class="line">document.write(aMap.join(“][") + "&lt;br&gt;");        //用"]["来连接</div><div class="line"> </div><div class="line"> </div><div class="line">var sFruit = "apple,pear,peach,orange";</div><div class="line">var aFruit = sFruit.split(",");</div><div class="line"> </div><div class="line">var aFruit = ["apple","pear","peach","orange"];</div><div class="line">alert(aFruit.reverse().toString());</div><div class="line"> </div><div class="line">var aFruit = ["orange", "peach", "pear", "apple"];</div><div class="line">aFruit.sort();</div><div class="line"> </div><div class="line">var stack = new Array();</div><div class="line">stack.push(“red”);</div><div class="line">stack.push(“green”);</div><div class="line">stack.push(“blue”);</div><div class="line">document.write(stack.toString() + “&lt;br&gt;”);</div><div class="line">var vItem = stack.pop(); // blue</div><div class="line">document.write(vItem + “&lt;br&gt;”);</div><div class="line">document.write(stack.toString()); // red green</div></pre></td></tr></table></figure></p>
<p>2.8 if语句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//首先获取用户的一个输入，并用Number()强制转换为数字</div><div class="line">var iNumber = Number(prompt(“输入一个5到100之间的数字”, “”));//第二个参数,用于显示输入框的默认值</div><div class="line">if(isNaN(iNumber))        //判断输入的是否是数字NaN “Not a Number”</div><div class="line">    document.write(“请确认你的输入正确”);</div><div class="line">else if(iNumber &gt; 100 || iNumber &lt; 5)        //判断输入的数字范围</div><div class="line">    document.write(“你输入的数字范围不在5和100之间”);</div><div class="line">else</div><div class="line">    document.write(“你输入的数字是:” + iNumber);</div></pre></td></tr></table></figure></p>
<p>2.9 switch<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">iWeek = parseInt(prompt(“输入1到7之间的整数”,””));</div><div class="line">switch(iWeek)&#123;</div><div class="line">    case 1:</div><div class="line">        document.write(“Monday”);</div><div class="line">        break;</div><div class="line">    case 2:</div><div class="line">        document.write(“Tuesday”);</div><div class="line">        break;</div><div class="line">    case 3:</div><div class="line">        document.write(“Wednesday”);</div><div class="line">        break;</div><div class="line">    case 4:</div><div class="line">        document.write(“Thursday”);</div><div class="line">        break;</div><div class="line">    case 5:</div><div class="line">        document.write(“Friday”);</div><div class="line">        break;</div><div class="line">    case 6:</div><div class="line">        document.write(“Saturday”);</div><div class="line">        break;</div><div class="line">    case 7:</div><div class="line">        document.write(“Sunday”);</div><div class="line">        break;</div><div class="line">    default:</div><div class="line">        document.write(“Error”);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>2.10 while语句<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> i=iSum=<span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>(i&lt;=<span class="number">100</span>)&#123;</div><div class="line">    iSum += i;</div><div class="line">    i++;</div><div class="line">&#125;</div><div class="line">alert(iSum);</div><div class="line"><span class="keyword">do</span>.while <span class="keyword">for</span> <span class="keyword">break</span> <span class="keyword">continue</span> (与JAVA语法一致)</div></pre></td></tr></table></figure></p>
<p>2.11 函数<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ArgsNum</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">arguments</span>.length;</div><div class="line">&#125;</div><div class="line"><span class="built_in">document</span>.write(ArgsNum(<span class="string">'isaac'</span>,<span class="number">25</span>) + <span class="string">'&lt;br&gt;'</span>);<span class="comment">//2</span></div><div class="line"><span class="built_in">document</span>.write(ArgsNum() + <span class="string">'&lt;br&gt;'</span>);<span class="comment">//0</span></div><div class="line"><span class="built_in">document</span>.write(ArgsNum(<span class="number">3</span>) + <span class="string">'&lt;br&gt;'</span>);<span class="comment">//1</span></div><div class="line">从这个例子可以看出，方法可以没有参数，也可以没有返回值，但是照样可以传入参数和返回值。</div></pre></td></tr></table></figure></p>
<p>2.12 Date对象<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myDate1 = <span class="keyword">new</span> <span class="built_in">Date</span>();    <span class="comment">//运行代码前的时间</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">3000000</span>;i++);</div><div class="line"><span class="keyword">var</span> myDate2 = <span class="keyword">new</span> <span class="built_in">Date</span>();    <span class="comment">//运行代码后的时间</span></div><div class="line"><span class="built_in">document</span>.write(myDate2);</div><div class="line"> </div><div class="line"><span class="keyword">var</span> oMyDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">var</span> iYear = oMyDate.getFullYear();</div><div class="line"><span class="keyword">var</span> iMonth = oMyDate.getMonth() + <span class="number">1</span>;    <span class="comment">//月份是从0开始的</span></div><div class="line"><span class="keyword">var</span> iDate = oMyDate.getDate();</div><div class="line"><span class="keyword">var</span> iDay = oMyDate.getDay(); <span class="comment">//0 为星期日 1 为星期一</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">disDate</span>(<span class="params">oDate, iDate</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ms = oDate.getTime();        <span class="comment">//换成毫秒数</span></div><div class="line">    ms -= iDate*<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>;        <span class="comment">//计算相差的毫秒数</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(ms);            <span class="comment">//返回新的时间对象</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> oBeijing = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2008</span>,<span class="number">7</span>,<span class="number">8</span>);</div><div class="line"><span class="keyword">var</span> iNum = <span class="number">100</span>;                        <span class="comment">//前100天</span></div><div class="line"><span class="keyword">var</span> oMyDate = disDate(oBeijing, iNum);</div></pre></td></tr></table></figure></p>
<p>2.13 检测浏览器和操作系统<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sUserAgent = navigator.userAgent;</div><div class="line"><span class="comment">//检测Opera、KHTML</span></div><div class="line"><span class="keyword">var</span> isOpera = sUserAgent.indexOf(“Opera”) &gt; <span class="number">-1</span>;</div><div class="line"><span class="keyword">var</span> isKHTML = sUserAgent.indexOf(“KHTML”) &gt; <span class="number">-1</span> || sUserAgent.indexOf(“Konqueror”) &gt; <span class="number">-1</span> || sUserAgent.indexOf(“AppleWebKit”) &gt; <span class="number">-1</span>;</div><div class="line"><span class="comment">//检测IE、Mozilla</span></div><div class="line"><span class="keyword">var</span> isIE = sUserAgent.indexOf(“compatible”) &gt; <span class="number">-1</span> &amp;&amp; sUserAgent.indexOf(“MSIE”) &gt; <span class="number">-1</span> &amp;&amp; !isOpera;</div><div class="line"><span class="keyword">var</span> isMoz = sUserAgent.indexOf(“Gecko”) &gt; <span class="number">-1</span> &amp;&amp; !isKHTML;</div><div class="line"><span class="comment">//检测操作系统</span></div><div class="line"><span class="keyword">var</span> isWin = (navigator.platform == “Win32″) || (navigator.platform == “Windows”);</div><div class="line"><span class="keyword">var</span> isMac = (navigator.platform == “Mac68K”) || (navigator.platform == “MacPPC”) || (navigator.platform == “Macintosh”);</div><div class="line"><span class="keyword">var</span> isUnix = (navigator.platform == “X11″) &amp;&amp; !isWin &amp;&amp; !isMac;</div><div class="line"><span class="keyword">if</span>(isOpera) <span class="built_in">document</span>.write(“Opera “);</div><div class="line"><span class="keyword">if</span>(isKHTML) <span class="built_in">document</span>.write(“KHTML “);</div><div class="line"><span class="keyword">if</span>(isIE) <span class="built_in">document</span>.write(“IE “);</div><div class="line"><span class="keyword">if</span>(isMoz) <span class="built_in">document</span>.write(“Mozilla “);</div><div class="line"><span class="keyword">if</span>(isWin) <span class="built_in">document</span>.write(“Windows”);</div><div class="line"><span class="keyword">if</span>(isMac) <span class="built_in">document</span>.write(“Mac”);</div><div class="line"><span class="keyword">if</span>(isUnix) <span class="built_in">document</span>.write(“Unix”);</div></pre></td></tr></table></figure></p>
<p>Global对象</p>
<p>其实isNaN，paraseInt等都是Global对象的方法</p>
<p>EncodeURI.因为有效的URI不能包含某些字符，如空格。这个方法就是用于将这个字符转换成UTF-8编码，使浏览器可以接受他们。</p>
<p>Var suil = “www.oseschool.com/pro file/a.html”;<br>Alert(encodeURI(suil));//www.oseschool.com/pro%20file/a.html</p>
<p>即将空格编码成%20</p>
<p>Eval方法<br>Eval(“alert(‘hi’)”);<br>当解析程序发现eval()时，它将把参数解析成真正的ECMA-script语句，然后插入该语句所在位置。</p>
<p>Global除了有内置方法外，还有很多内置的属性：如：undefined,NaN,Array,String,Number，Date，RegExp等<br>Math对象</p>
<p>Max方法，min方法,ceil,floor,round,sqrt,random</p>
<p>Max(1,2,3);min(1.2,3.4);</p>
<p>想取到1~10的数据</p>
<p>Math.floor(Math.random()*10+1)</p>
<p>2~9的数据</p>
<p>Math.floor(Math.random()*9+2);</p>
<p>3.1 getElementsByTagName<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">function searchDOM()&#123;</div><div class="line">    //放在函数内，页面加载完成后才用&lt;body&gt;的onload加载，这时如果把alert这句改成用document.write则会把原内容覆盖掉，因为是后面才执行的</div><div class="line">    var oLi = document.getElementsByTagName(“li”);</div><div class="line">    //输出长度、标签名称以及某项的文本节点值</div><div class="line">    alert(oLi.length + ” ” +oLi[0].tagName + ” ” + oLi[3].childNodes[0].nodeValue);</div><div class="line">    </div><div class="line">    var oUl = document.getElementsByTagName(“ul”);</div><div class="line">    var oLi2 = oUl[1].getElementsByTagName(“li”);</div><div class="line">    alert(oLi2.length + ” ” +oLi2[0].tagName + ” ” + oLi2[1].childNodes[0].nodeValue);</div><div class="line">&#125;</div><div class="line">&lt;body onload=”searchDOM()”&gt;</div><div class="line">    &lt;ul&gt;客户端语言</div><div class="line">        &lt;li&gt;HTML&lt;/li&gt;</div><div class="line">        &lt;li&gt;JavaScript&lt;/li&gt;</div><div class="line">        &lt;li id=”cssLi”&gt;CSS&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">&lt;ul&gt;服务器端语言</div><div class="line">        &lt;li&gt;ASP.NET&lt;/li&gt;</div><div class="line">        &lt;li&gt;JSP&lt;/li&gt;</div><div class="line">        &lt;li&gt;PHP&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>
<p>3.2 getElementById<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oLi = <span class="built_in">document</span>.getElementById(“cssLi”);</div><div class="line">oLi.style .backgroundColor=”yellow”</div><div class="line">    <span class="comment">//输出标签名称以及文本节点值</span></div><div class="line">    alert(oLi.tagName + ” ” + oLi.childNodes[<span class="number">0</span>].nodeValue);</div></pre></td></tr></table></figure></p>
<p>3.2 getElementsByName</p>
<p>alert(document.getElementsByName(“a”).length);</p>
<p>3.3 访问子节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myDOMInspector</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> oUl = <span class="built_in">document</span>.getElementById(“myList”);    <span class="comment">//获取&lt;ul&gt;标记</span></div><div class="line">    <span class="keyword">var</span> DOMString = “”;</div><div class="line">    <span class="keyword">if</span>(oUl.hasChildNodes())&#123;                        <span class="comment">//判断是否有子节点</span></div><div class="line">        <span class="keyword">var</span> oCh = oUl.childNodes;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;oCh.length;i++)                <span class="comment">//逐一查找</span></div><div class="line">            DOMString += oCh[i].nodeName + “\n”;</div><div class="line">    &#125;</div><div class="line">    alert(DOMString);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4访问父节点<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">nodeName如果为文本节点，则返回#text</div><div class="line">tagName如果为文本节点，则返回undefined</div><div class="line"> </div><div class="line">function myDOMInspector()&#123;</div><div class="line">    var myItem = document.getElementById(“myDearFood”);</div><div class="line">    alert(myItem.parentNode.tagName);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function myDOMInspector()&#123;</div><div class="line">    var myItem = document.getElementById(“myDearFood”);</div><div class="line">    var parentElm = myItem.parentNode;</div><div class="line">    while(parentElm.className != “colorful” &amp;&amp; parentElm != document.body)</div><div class="line">        parentElm = parentElm.parentNode;    //一路往上找</div><div class="line">    alert(parentElm.tagName);</div><div class="line">&#125;</div><div class="line">&lt;body onload=”myDOMInspector()”&gt;</div><div class="line">&lt;div class=”colorful”&gt;</div><div class="line">&lt;ul&gt;</div><div class="line">        &lt;li&gt;糖醋排骨&lt;/li&gt;</div><div class="line">        &lt;li&gt;圆笼粉蒸肉&lt;/li&gt;</div><div class="line">        &lt;li&gt;泡菜鱼&lt;/li&gt;</div><div class="line">        &lt;li id=”myDearFood”&gt;板栗烧鸡&lt;/li&gt;</div><div class="line">        &lt;li&gt;麻婆豆腐&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">访问兄弟节点</div><div class="line">function myDOMInspector()&#123;</div><div class="line">    var myItem = document.getElementById(“myDearFood”);</div><div class="line">    //访问兄弟节点</div><div class="line">    var nextListItem = myItem.nextSibling;</div><div class="line">    var preListItem = myItem.previousSibling;</div><div class="line">    alert(nextListItem.tagName +” “+ preListItem.tagName);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">在Firefox中不支持，但是IE中却是支持的。</div></pre></td></tr></table></figure></p>
<p>3.6 第一个最后一个子节点<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextSib</span>(<span class="params">node</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> tempLast = node.parentNode.lastChild;</div><div class="line">    <span class="comment">//判断是否是最后一个节点，如果是则返回null</span></div><div class="line">    <span class="keyword">if</span>(node == tempLast)</div><div class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    <span class="keyword">var</span> tempObj = node.nextSibling;</div><div class="line">    <span class="comment">//逐一搜索后面的兄弟节点，直到发现元素节点为止</span></div><div class="line">    <span class="keyword">while</span>(tempObj.nodeType!=<span class="number">1</span> &amp;&amp; tempObj.nextSibling!=<span class="literal">null</span>)</div><div class="line">        tempObj = tempObj.nextSibling;</div><div class="line">    <span class="comment">//三目运算符，如果是元素节点则返回节点本身，否则返回null</span></div><div class="line">    <span class="keyword">return</span> (tempObj.nodeType==<span class="number">1</span>)?tempObj:<span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">prevSib</span>(<span class="params">node</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> tempFirst = node.parentNode.firstChild;</div><div class="line">    <span class="comment">//判断是否是第一个节点，如果是则返回null</span></div><div class="line">    <span class="keyword">if</span>(node == tempFirst)</div><div class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    <span class="keyword">var</span> tempObj = node.previousSibling;</div><div class="line">    <span class="comment">//逐一搜索前面的兄弟节点，直到发现元素节点为止</span></div><div class="line">    <span class="keyword">while</span>(tempObj.nodeType!=<span class="number">1</span> &amp;&amp; tempObj.previousSibling!=<span class="literal">null</span>)</div><div class="line">        tempObj = tempObj.previousSibling;</div><div class="line">    <span class="keyword">return</span> (tempObj.nodeType==<span class="number">1</span>)?tempObj:<span class="literal">null</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myDOMInspector</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> myItem = <span class="built_in">document</span>.getElementById(“myDearFood”);</div><div class="line">    <span class="comment">//获取后一个元素兄弟节点</span></div><div class="line">    <span class="keyword">var</span> nextListItem = nextSib(myItem);</div><div class="line">    <span class="comment">//获取前一个元素兄弟节点</span></div><div class="line">    <span class="keyword">var</span> preListItem = prevSib(myItem);</div><div class="line">    alert(“后一项:” + ((nextListItem!=<span class="literal">null</span>)?nextListItem.firstChild.nodeValue:<span class="literal">null</span>) + ” 前一项:” + ((preListItem!=<span class="literal">null</span>)?preListItem.firstChild.nodeValue:<span class="literal">null</span>) );</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">nodeType</div><div class="line">元素element</div><div class="line"><span class="number">1</span> </div><div class="line">属性attr</div><div class="line"><span class="number">2</span> </div><div class="line">文本text</div><div class="line"><span class="number">3</span> </div><div class="line">注释comments</div><div class="line"><span class="number">8</span> </div><div class="line">文档<span class="built_in">document</span></div><div class="line"><span class="number">9</span> </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showAttr</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> btnShowAttr=<span class="built_in">document</span>.getElementById(“btnShowAttr”); <span class="comment">//演示按钮，有很多属性</span></div><div class="line"><span class="keyword">var</span> attrs=btnShowAttr.attributes;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;attrs.length ;i++)&#123;</div><div class="line"><span class="keyword">var</span> attr=attrs[i];</div><div class="line">alert(‘nodeType:’+attr.nodeType); <span class="comment">//attribute 的nodeType=2</span></div><div class="line">alert(‘attr:’+attr);</div><div class="line">alert(‘attr.name:’+attr.name+’=’+attr.value);</div><div class="line"> </div><div class="line">&#125;</div><div class="line"> </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showDocument</span>(<span class="params"></span>)</span>&#123;</div><div class="line">alert(‘nodeType:’+<span class="built_in">document</span>.nodeType); <span class="comment">//9</span></div><div class="line">alert(‘nodeName:’+<span class="built_in">document</span>.nodeName);</div><div class="line">alert(<span class="built_in">document</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3.7 getAttribute setAttribute<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myDOMInspector</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//获取图片</span></div><div class="line">    <span class="keyword">var</span> myImg = <span class="built_in">document</span>.getElementsByTagName(“img”)[<span class="number">0</span>];</div><div class="line">    <span class="comment">//获取图片title属性</span></div><div class="line">    alert(myImg.getAttribute(“title”));</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changePic</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//获取图片</span></div><div class="line">    <span class="keyword">var</span> myImg = <span class="built_in">document</span>.getElementsByTagName(“img”)[<span class="number">0</span>];</div><div class="line">    <span class="comment">//设置图片src和title属性</span></div><div class="line">    myImg.setAttribute(“src”,”<span class="number">02.</span>jpg”);</div><div class="line">    myImg.setAttribute(“title”,”紫荆公寓”);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.8创建新节点<br> <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createP</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> op = <span class="built_in">document</span>.createElement(“p”);</div><div class="line">    <span class="keyword">var</span> otext = <span class="built_in">document</span>.createTextNode(“HHHHH”);</div><div class="line">    op.appendChild(otext);</div><div class="line">    op.setAttribute(“style”,”text-align:center”);</div><div class="line">    <span class="built_in">document</span>.body.appendChild(op);</div><div class="line"> </div><div class="line">    <span class="comment">//创建完节点，就马上会影响到下面的操作，比如P的数量就会多1个</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.9删除节点<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">需要注意的是标签之间的父子关系！！！</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">deleteP</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> oP = <span class="built_in">document</span>.getElementsByTagName(“p”)[<span class="number">0</span>];</div><div class="line">    oP.parentNode.removeChild(oP);        <span class="comment">//删除节点</span></div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line">3.10替换节点</div><div class="line">`<span class="string">``</span>js</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">replaceP</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> oOldP = <span class="built_in">document</span>.getElementsByTagName(“p”)[<span class="number">0</span>];</div><div class="line">    <span class="keyword">var</span> oNewP = <span class="built_in">document</span>.createElement(“p”);        <span class="comment">//新建节点</span></div><div class="line">    <span class="keyword">var</span> oText = <span class="built_in">document</span>.createTextNode(“这是一个感人肺腑的故事”);</div><div class="line">    oNewP.appendChild(oText);</div><div class="line">    oOldP.parentNode.replaceChild(oNewP,oOldP);        <span class="comment">//替换节点</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.11插入节点<br> <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">function insertP()&#123;</div><div class="line">    var oOldP = document.getElementsByTagName(“p”)[0];</div><div class="line">    var oNewP = document.createElement(“p”);        //新建节点</div><div class="line">    var oText = document.createTextNode(“这是一个感人肺腑的故事”);</div><div class="line">    oNewP.appendChild(oText);</div><div class="line">    oOldP.parentNode.insertBefore(oNewP,oOldP);        //插入节点</div><div class="line">&#125;</div><div class="line"> </div><div class="line">没有insertAfter，但是可以自己写一个</div><div class="line"> </div><div class="line">function insertAfter(newElement, targetElement)&#123;</div><div class="line">    var oParent = targetElement.parentNode;    //首先找到目标元素的父元素</div><div class="line">    if(oParent.lastChild == targetElement)    //如果目标元素已经是最后一个子元素了</div><div class="line">        oParent.appendChild(newElement);    //则直接用appendChild()加到子元素列表的最后</div><div class="line">    else                                //否则用insertBefore()插入到目标元素的下一个兄弟元素之前</div><div class="line">        oParent.insertBefore(newElement,targetElement.nextSibling);</div><div class="line">&#125;</div><div class="line">function insertP()&#123;</div><div class="line">    var oOldP = document.getElementById(“myTarget”);</div><div class="line">    var oNewP = document.createElement(“p”);        //新建节点</div><div class="line">    var oText = document.createTextNode(“这是一个感人肺腑的故事”);</div><div class="line">    oNewP.appendChild(oText);</div><div class="line">    insertAfter(oNewP,oOldP);        //插入节点</div><div class="line">&#125;</div><div class="line"> </div><div class="line">其实这个也是通过insertBefore原理来实现的</div><div class="line">``` </div><div class="line">3.12 cloneNode(deepBoolean)</div><div class="line">```js</div><div class="line">复制并返回当前节点的复制节点，这个复制得到的节点是一个孤立的节点，不在document树中。复制原来节点的属性值，包括ID属性，所以在把这个新节点加到document之前，一定要修改ID属性，以便使它保持唯一。当然如果ID的唯一性不重要可以不做处理。</div><div class="line">这个方法支持一个布尔参数，当deepBoolean设置true时，复制当前节点的所有子节点，包括该节点内的文本。</div><div class="line">&lt;p id=”mypara”&gt;11111&lt;/p&gt;</div><div class="line">p=document.getElementById(“mypara”)</div><div class="line">pclone = p.cloneNode(true);</div><div class="line">p.parentNode.appendChild(pclone</div></pre></td></tr></table></figure></p>
<p>3.12文档碎片<br> <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertPs</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> aColors = [<span class="string">"red"</span>,<span class="string">"green"</span>,<span class="string">"blue"</span>,<span class="string">"magenta"</span>,<span class="string">"yellow"</span>,<span class="string">"chocolate"</span>,<span class="string">"black"</span>,<span class="string">"aquamarine"</span>,<span class="string">"lime"</span>,<span class="string">"fuchsia"</span>,<span class="string">"brass"</span>,<span class="string">"azure"</span>,<span class="string">"brown"</span>,<span class="string">"bronze"</span>,<span class="string">"deeppink"</span>,<span class="string">"aliceblue"</span>,<span class="string">"gray"</span>,<span class="string">"copper"</span>,<span class="string">"coral"</span>,<span class="string">"feldspar"</span>,<span class="string">"orange"</span>,<span class="string">"orchid"</span>,<span class="string">"pink"</span>,<span class="string">"plum"</span>,<span class="string">"quartz"</span>,<span class="string">"purple"</span>];</div><div class="line">    <span class="keyword">var</span> oFragment = <span class="built_in">document</span>.createDocumentFragment();    <span class="comment">//创建文档碎片</span></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;aColors.length;i++)&#123;</div><div class="line">        <span class="keyword">var</span> oP = <span class="built_in">document</span>.createElement(“p”);</div><div class="line">        <span class="keyword">var</span> oText = <span class="built_in">document</span>.createTextNode(aColors[i]);</div><div class="line">        oP.appendChild(oText);</div><div class="line">        oFragment.appendChild(oP);        <span class="comment">//将节点先添加到碎片中</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">document</span>.body.appendChild(oFragment);    <span class="comment">//最后一次性添加到页面</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>3.13 innerHTML<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myDOMInnerHTML</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> myDiv = <span class="built_in">document</span>.getElementById(“myTest”);</div><div class="line">    alert(myDiv.innerHTML);        <span class="comment">//直接显示innerHTML的内容</span></div><div class="line">    <span class="comment">//修改innerHTML，可直接添加代码</span></div><div class="line">    myDiv.innerHTML = “&lt;img src=’<span class="number">01.</span>jpg’ title=’情人坡’&gt;”;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">innerHTML可同时显示没有的代码</div></pre></td></tr></table></figure></p>
<p>3.14 换皮肤<br> <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&lt;style type=”text/css”&gt;</div><div class="line">.myUL1&#123;</div><div class="line">    color:#0000FF;</div><div class="line">    font-family:Arial;</div><div class="line">    font-weight:bold;</div><div class="line">&#125;</div><div class="line">.myUL2&#123;</div><div class="line">    color:#FF0000;</div><div class="line">    font-family:Georgia, “Times New Roman”, Times, serif;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function check()&#123;</div><div class="line">    var oMy = document.getElementsByTagName(“ul”)[0];</div><div class="line">    oMy.className =(oMy.className==”myUL1″? “myUL2″:”myUL1″);    //修改CSS类</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"> </div><div class="line">&lt;body&gt;</div><div class="line">    &lt;ul onclick=”check()” class=”myUL1″&gt;</div><div class="line">        &lt;li&gt;HTML&lt;/li&gt;</div><div class="line">        &lt;li&gt;JavaScript&lt;/li&gt;</div><div class="line">        &lt;li&gt;CSS&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>
<p>4.表格与表单</p>
<ul>
<li><p>4.1 动态添加行</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">window.onload=function()&#123;</div><div class="line">    var oTr = document.getElementById(“member”).insertRow(2);    //插入一行</div><div class="line">    var aText = new Array();</div><div class="line">    aText[0] = document.createTextNode(“fresheggs”);</div><div class="line">    aText[1] = document.createTextNode(“W610″);</div><div class="line">    aText[2] = document.createTextNode(“Nov 5th”);</div><div class="line">    aText[3] = document.createTextNode(“Scorpio”);</div><div class="line">    aText[4] = document.createTextNode(“1038818″);</div><div class="line">    for(var i=0;i&lt;aText.length;i++)&#123;</div><div class="line">        var oTd = oTr.insertCell(i);</div><div class="line">        oTd.appendChild(aText[i]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">``` </div><div class="line">- 4.2修改单元格内容</div><div class="line">```js</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">window.onload=function()&#123;</div><div class="line">    var oTable = document.getElementById(“member”);</div><div class="line">    oTable.rows[3].cells[4].innerHTML = “lost”;        //修改单元格内容</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>4.3 动态删除</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">parentElement是IE dom，</div><div class="line">parentNode是标准DOM</div><div class="line"> </div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">window.onload=function()&#123;</div><div class="line">    var oTable = document.getElementById(“member”);</div><div class="line">    oTable.deleteRow(2);        //删除一行，后面的行号自动补齐//指从table中的第2行开始进行删除</div><div class="line">    oTable.rows[2].deleteCell(1);    //删除一个单元格，后面的也自动补齐</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function myDelete()&#123;</div><div class="line">    var oTable = document.getElementById(“member”);</div><div class="line">    //删除该行</div><div class="line">    this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode);</div><div class="line">&#125;</div><div class="line">window.onload=function()&#123;</div><div class="line">    var oTable = document.getElementById(“member”);</div><div class="line">    var oTd;</div><div class="line">    //动态添加delete链接</div><div class="line">    for(var i=1;i&lt;oTable.rows.length;i++)&#123;</div><div class="line">        oTd = oTable.rows[i].insertCell(5);</div><div class="line">        oTd.innerHTML = “&lt;a href=’#’&gt;delete&lt;/a&gt;”;</div><div class="line">        oTd.firstChild.onclick = myDelete;    //添加删除事件</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">``` </div><div class="line">4.4动态删除列</div><div class="line">```js</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function deleteColumn(oTable,iNum)&#123;</div><div class="line">    //自定义删除列函数，即每行删除相应单元格</div><div class="line">    for(var i=0;i&lt;oTable.rows.length;i++)</div><div class="line">        oTable.rows[i].deleteCell(iNum);</div><div class="line">&#125;</div><div class="line">window.onload=function()&#123;</div><div class="line">    var oTable = document.getElementById(“member”);</div><div class="line">    deleteColumn(oTable,2);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>4.5 控制textarea的字符个数<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script language=”javascript”&gt;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">LessThan</span>(<span class="params">oTextArea</span>)</span>&#123;</div><div class="line">    <span class="comment">//返回文本框字符个数是否符号要求的boolean值</span></div><div class="line">    <span class="keyword">return</span> oTextArea.value.length &lt; oTextArea.getAttribute(“maxlength”);</div><div class="line">&#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure></p>
<p>5.BOM模型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">浏览器对象模型，可以对浏览器窗口进行访问和操作，使用BOM,开发者可以移动窗口，改变状态栏中的文本等与页面内容不相关的操作</div><div class="line">Window对象</div><div class="line"></div><div class="line">这里可以用window.frames[0]或者用windows.frames[&quot;topFrame&quot;]来引用框架，也可以用topl来代替window属性。Top.frames[0] 。window对象可以忽略</div><div class="line"> </div><div class="line">提供的方法有moveto,moveBy,resizeTo,resizeBy等方法。但尽量避免使用它们，因为会对用户浏览产生影响</div><div class="line"> </div><div class="line">Open方法</div><div class="line"></div><div class="line"> </div><div class="line">除了open方法，还有alert,comfirm,prompt方法</div><div class="line"> </div><div class="line"> </div><div class="line">状态栏</div><div class="line"> </div><div class="line"></div><div class="line"></div><div class="line"> </div><div class="line">Settimeout与setInterval</div><div class="line">Settimeout</div><div class="line">下面的代码都是在1秒钟后显示一条警告</div><div class="line">Settimeout(“alert(‘aa’),1000″);</div><div class="line">Settimeout(function()&#123;alert(‘aa’);&#125;,1000);</div><div class="line"> </div><div class="line">如果要还未执行的暂停，可调用clearTimeOut()方法</div><div class="line">Var si = Settimeout(function()&#123;alert(‘aa’);&#125;,1000);</div><div class="line">clearTimeout(si);</div><div class="line"></div><div class="line"> </div><div class="line">setInterval</div><div class="line"></div><div class="line"> </div><div class="line">History</div><div class="line">向后一页window.history.Go(-1); 等于history.back();</div><div class="line">向前一页window.history.go(1); 等于 history.forword();</div><div class="line"> </div><div class="line">Document</div><div class="line"> </div><div class="line">LastModified,title,URL属性都是比较常用</div><div class="line"> </div><div class="line"></div><div class="line">Location对象</div><div class="line">Navigator对象</div><div class="line">Screen对象</div></pre></td></tr></table></figure></p>
<p>6.事件</p>
<p>6.1 冒泡型事件<br> <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function add(sText)&#123;</div><div class="line">    var oDiv = document.getElementById(“display”);</div><div class="line">    oDiv.innerHTML += sText;    //输出点击顺序</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onclick=”add(‘body&lt;br&gt;’);”&gt;</div><div class="line">    &lt;div onclick=”add(‘div&lt;br&gt;’);”&gt;</div><div class="line">        &lt;p onclick=”add(‘p&lt;br&gt;’);”&gt;Click Me&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;div id=”display”&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line">先执行最里面的p，再往外执行</div></pre></td></tr></table></figure></p>
<p>6.2 监听函数<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">window.onload = function()&#123;</div><div class="line">    var oP = document.getElementById(“myP”);    //找到对象</div><div class="line">    oP.onclick = function()&#123;                    //设置事件监听函数</div><div class="line">        alert(‘我被点击了’);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"> </div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;p id=”myP”&gt;Click Me&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line"> </div><div class="line">Function a()&#123;&#125;</div><div class="line">oP.onclick = a</div><div class="line">这样会先把a函数加载到缓存，不是最佳方案</div><div class="line">Var A = Function()&#123;&#125;</div><div class="line">oP.onclick = a</div><div class="line">这样只有在onclick事件发生的时候，加载该函数</div><div class="line"> </div><div class="line"> </div><div class="line">若以上的监听函数，在onclick的时候，需要执行多个函数，那就只能用以下的方法：</div><div class="line"> </div><div class="line">IE标准：</div><div class="line"> </div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function fnClick()&#123;</div><div class="line">    alert(“我被点击了”);</div><div class="line">    oP.detachEvent(“onclick”,fnClick);        //点击了一次后删除监听函数</div><div class="line">&#125;</div><div class="line">var oP;//声明在函数外，这样就可以两个函数一起使用</div><div class="line">window.onload = function()&#123;</div><div class="line">    oP = document.getElementById(“myP”);    //找到对象</div><div class="line">    oP.attachEvent(“onclick”,fnClick);        //添加监听函数</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"> </div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;p id=”myP”&gt;Click Me&lt;/p&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line">    也可以添加多个监听器</div><div class="line">oP.attachEvent(“onclick”,fnClick1);        //添加监听函数1</div><div class="line">    oP.attachEvent(“onclick”,fnClick2);        //添加监听函数2</div><div class="line"> </div><div class="line">执行顺序为fnClick2-&gt; fnClick1</div><div class="line">但是以上的监听器均为IE中的标准，而符合标准DOM（firefox）的监听器如下</div><div class="line"> </div><div class="line">oP.addEventListener(“click”,fnClick1,false);        //添加监听函数1</div><div class="line">    oP.addEventListener(“click”,fnClick2,false);        //添加监听函数2</div><div class="line"> </div><div class="line">因此这种方式在Firefox中支持，而在IE中不支持</div><div class="line"> </div><div class="line">为了兼容性，可这样写</div><div class="line"> </div><div class="line">if (el.addEventListener)…&#123;</div><div class="line">el.addEventListener(‘click’, KindDisableMenu, false);</div><div class="line">&#125; else if (el.attachEvent)…&#123;</div><div class="line"> el.attachEvent(‘onclick’, KindDisableMenu);</div><div class="line">&#125;</div><div class="line"> </div><div class="line">第三个参数为useCapture</div><div class="line"> </div><div class="line"></div><div class="line">而useCapture這個參數就是在控制這時候兩個click事件的先後順序。如果是false，那就會使用bubbling，他是從內而外的流程，所以會先執行藍色元素的click事件再執行紅色元素的click事件，如果是true，那就是capture，和bubbling相反是由外而內</div></pre></td></tr></table></figure></p>
<p>6.3 事件的类型event.type<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">IE浏览器中事件对象是window对象的一个属性event</div><div class="line">Op.onlick=function()&#123; var o = window.event&#125;</div><div class="line">而标准DOM中规定event对象必须作为唯一的参数传给事件处理函数</div><div class="line">Op.onclick=function(oevent)&#123;</div><div class="line">&#125;</div><div class="line">因此为了兼容两种浏览器，通常采用下面的方法</div><div class="line">Op.onclick=function(o)&#123;</div><div class="line">If(window.event)//假如不等于空，则为IE浏览器</div><div class="line">    O = window.event;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function handle(oEvent)&#123;</div><div class="line">    var oDiv = document.getElementById(“display”);</div><div class="line">    if(window.event) oEvent = window.event;        //处理兼容性，获得事件对象</div><div class="line">    if(oEvent.type == “click”)                    //检测事件名称</div><div class="line">        oDiv.innerHTML += “你点击了我&amp;nbsp&amp;nbsp;”;</div><div class="line">    else if( oEvent.type == “mouseover”)</div><div class="line">        oDiv.innerHTML += “你移动到我上方了&amp;nbsp&amp;nbsp;”;</div><div class="line">        </div><div class="line">&#125;</div><div class="line">window.onload = function()&#123;</div><div class="line">    var oImg = document.getElementsByTagName(“img”)[0];</div><div class="line">    oImg.onclick = handle;</div><div class="line">    oImg.onmouseover = handle;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">还有很多鼠标事件</div><div class="line"> </div><div class="line">window.onload = function()&#123;</div><div class="line">    var oImg = document.getElementsByTagName(“img”)[0];</div><div class="line">    oImg.onmousedown = handle;    //将鼠标事件除了mousemove外都监听</div><div class="line">    oImg.onmouseup = handle;</div><div class="line">    oImg.onmouseover = handle;</div><div class="line">    oImg.onmouseout = handle;</div><div class="line">    oImg.onclick = handle;</div><div class="line"> </div><div class="line">    oImg.ondblclick = handle;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>6.4 事件的激活元素event.srcElement 或者 target<br> <figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function handle(oEvent)&#123;</div><div class="line">    if(window.event) oEvent = window.event;        //处理兼容性，获得事件对象</div><div class="line">    var oTarget;</div><div class="line">    if(oEvent.srcElement)                //处理兼容性，获取事件目标</div><div class="line">        oTarget = oEvent.srcElement; //IE支持的写法</div><div class="line">    else</div><div class="line">        oTarget = oEvent.target; //Firefox支持的写法</div><div class="line">    alert(oTarget.tagName);                //弹出目标的标记名称        </div><div class="line">&#125;</div><div class="line">window.onload = function()&#123;</div><div class="line">    var oImg = document.getElementsByTagName(“img”)[0];</div><div class="line">    oImg.onclick = handle;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">event.button</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function TestClick(oEvent)&#123;</div><div class="line">    var oDiv = document.getElementById(“display”);</div><div class="line">    if(window.event)</div><div class="line">        oEvent = window.event;</div><div class="line">    oDiv.innerHTML += oEvent.button;    //输出button的值</div><div class="line">&#125;</div><div class="line">document.onmousedown = TestClick;</div><div class="line">window.onload = TestClick;    //测试未按下任何键</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line"> </div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=”display”&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line">在IE/Opera中，是window.event，而在Firefox中，是event</div><div class="line">而事件的对象，在IE中是window.event.srcElement，在Firefox中是event.target，而在Opera中则两者都支持。</div><div class="line"> </div><div class="line">在 IE 里面</div><div class="line">左键是window.event.button=1</div><div class="line">右键是window.event.button=2</div><div class="line">中键是window.event.button=4</div><div class="line">没有按键动作的时候window.event.button=0</div><div class="line"></div><div class="line">在 Firefox 里面</div><div class="line">左键是event.button=0</div><div class="line">右键是event.button=2</div><div class="line">中键是event.button=1</div><div class="line">没有按键动作的时候event.button=0</div><div class="line"></div><div class="line">在 Opera 7.23/7.54 里面</div><div class="line">鼠标左键是window.event.button=1</div><div class="line">没有按键动作的时候window.event.button=1</div><div class="line">右键和中键无法获取</div><div class="line">键盘事件</div><div class="line">window.onload = function()&#123;</div><div class="line">    var oTextArea = document.getElementsByTagName(“textarea”)[0];</div><div class="line">    oTextArea.onkeydown = handle;    //监听所有键盘事件</div><div class="line">    oTextArea.onkeyup = handle;</div><div class="line">    oTextArea.onkeypress = handle;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">e.keyCode;</div><div class="line"> </div><div class="line">onkeypress是在用户按下并放开任何字母数字键时发生。系统按钮（例如，箭头键和功能键, Shift、Ctrl、Alt、F1、F2）无法得到识别。</div><div class="line">onkeyup 是在用户放开任何先前按下的键盘键时发生。</div><div class="line">onkeydown 是在用户按下任何键盘键（包括系统按钮，如箭头键和功能键）时发生</div><div class="line">屏蔽鼠标右键</div><div class="line">第一种方式：</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function block(oEvent)&#123;</div><div class="line">    if(window.event)</div><div class="line">        oEvent = window.event;</div><div class="line">    if(oEvent.button == 2)</div><div class="line">        alert(“鼠标右键不可用”);</div><div class="line">&#125;</div><div class="line">document.onmousedown = block;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">第二种方式：</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function block(oEvent)&#123;</div><div class="line">    if(window.event)&#123;</div><div class="line">        oEvent = window.event;</div><div class="line">        oEvent.returnValue = false;    //取消默认事件支持IE</div><div class="line">    &#125;else</div><div class="line">        oEvent.preventDefault();    //取消默认事件支持Firefox</div><div class="line">&#125;</div><div class="line">document.oncontextmenu = block;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>6.8伸缩的菜单<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div></pre></td><td class="code"><pre><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">function change()&#123;</div><div class="line">    //通过父元素li，找到兄弟元素ul</div><div class="line">    var oSecondDiv = this.parentNode.getElementsByTagName(“ul”)[0];//这里的this就是下面的OA</div><div class="line">    //CSS交替更换来实现显、隐</div><div class="line">    if(oSecondDiv.className == “myHide”)</div><div class="line">        oSecondDiv.className = “myShow”;</div><div class="line">    else</div><div class="line">        oSecondDiv.className = “myHide”;</div><div class="line">&#125;</div><div class="line">window.onload = function()&#123;</div><div class="line">    var oUl = document.getElementById(“listUL”);</div><div class="line">    var aLi = oUl.childNodes;    //子元素</div><div class="line">    var oA;</div><div class="line">    for(var i=0;i&lt;aLi.length;i++)&#123;</div><div class="line">        //如果子元素为li，且这个li有子菜单ul</div><div class="line">        if(aLi[i].tagName == “LI”&amp;&amp; aLi[i].getElementsByTagName(“ul”).length)&#123;</div><div class="line">            oA = aLi[i].firstChild;    //找到超链接</div><div class="line">            oA.onclick = change;    //动态添加点击函数</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">tagName出来的都是大写</div><div class="line">总结</div><div class="line">《Event详解》</div><div class="line">DOM常用属性</div><div class="line">tagName</div><div class="line">nodeValue</div><div class="line">nodeName</div><div class="line">nodeType</div><div class="line">parentNode</div><div class="line">childNodes</div><div class="line">firstChild</div><div class="line">lastChild</div><div class="line">nextSibling (IE)</div><div class="line">previousSibling (IE)</div><div class="line">attributes</div><div class="line">innerHTML</div><div class="line">style</div><div class="line">className</div><div class="line"> </div><div class="line">方法</div><div class="line">getElementById</div><div class="line">getElementsByName</div><div class="line">getElementsByTagName</div><div class="line">hasChildNodes()</div><div class="line">getAttribute</div><div class="line">setAttribute</div><div class="line">createElement</div><div class="line">createTextNode</div><div class="line">appendChild</div><div class="line">removeChild</div><div class="line">replaceChild</div><div class="line">insertBefore</div><div class="line">cloneNode</div><div class="line">createDocumentFragment</div><div class="line">detachEvent</div><div class="line">attachEvent（IE) addEventListener(DOM)</div><div class="line"> </div><div class="line">event属性</div><div class="line">type</div><div class="line">keyCode</div><div class="line">srcElement(IE) target(DOM)</div><div class="line">button</div><div class="line"> </div><div class="line"> </div><div class="line">鼠标事件</div><div class="line">onclick</div><div class="line">onmouseover</div><div class="line">onmousedown</div><div class="line">onmouseup</div><div class="line">onmouseout</div><div class="line">ondblclick</div><div class="line"> </div><div class="line"> </div><div class="line">键盘事件</div><div class="line">onkeydown</div><div class="line">onkeyup</div><div class="line">onkeypress</div><div class="line"> </div><div class="line">window事件</div><div class="line">onload</div><div class="line"> </div><div class="line">document事件</div><div class="line">oncontextmenu</div><div class="line">write</div><div class="line">onmousedown</div></pre></td></tr></table></figure></p>
<p>7.JavaScipt优化和调试<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div><div class="line">815</div><div class="line">816</div><div class="line">817</div><div class="line">818</div><div class="line">819</div><div class="line">820</div><div class="line">821</div><div class="line">822</div><div class="line">823</div><div class="line">824</div><div class="line">825</div><div class="line">826</div><div class="line">827</div><div class="line">828</div><div class="line">829</div><div class="line">830</div><div class="line">831</div><div class="line">832</div><div class="line">833</div><div class="line">834</div><div class="line">835</div><div class="line">836</div><div class="line">837</div><div class="line">838</div><div class="line">839</div><div class="line">840</div><div class="line">841</div><div class="line">842</div><div class="line">843</div><div class="line">844</div><div class="line">845</div><div class="line">846</div><div class="line">847</div><div class="line">848</div><div class="line">849</div><div class="line">850</div><div class="line">851</div><div class="line">852</div><div class="line">853</div><div class="line">854</div><div class="line">855</div><div class="line">856</div><div class="line">857</div><div class="line">858</div><div class="line">859</div><div class="line">860</div><div class="line">861</div><div class="line">862</div><div class="line">863</div><div class="line">864</div><div class="line">865</div><div class="line">866</div><div class="line">867</div><div class="line">868</div><div class="line">869</div><div class="line">870</div><div class="line">871</div><div class="line">872</div><div class="line">873</div><div class="line">874</div><div class="line">875</div><div class="line">876</div><div class="line">877</div><div class="line">878</div><div class="line">879</div><div class="line">880</div><div class="line">881</div><div class="line">882</div><div class="line">883</div><div class="line">884</div><div class="line">885</div><div class="line">886</div><div class="line">887</div><div class="line">888</div><div class="line">889</div><div class="line">890</div><div class="line">891</div><div class="line">892</div><div class="line">893</div><div class="line">894</div><div class="line">895</div><div class="line">896</div><div class="line">897</div><div class="line">898</div><div class="line">899</div><div class="line">900</div><div class="line">901</div><div class="line">902</div><div class="line">903</div><div class="line">904</div><div class="line">905</div><div class="line">906</div><div class="line">907</div><div class="line">908</div><div class="line">909</div><div class="line">910</div><div class="line">911</div><div class="line">912</div><div class="line">913</div><div class="line">914</div><div class="line">915</div><div class="line">916</div><div class="line">917</div><div class="line">918</div><div class="line">919</div><div class="line">920</div><div class="line">921</div><div class="line">922</div><div class="line">923</div><div class="line">924</div><div class="line">925</div><div class="line">926</div><div class="line">927</div><div class="line">928</div><div class="line">929</div><div class="line">930</div><div class="line">931</div><div class="line">932</div><div class="line">933</div><div class="line">934</div><div class="line">935</div><div class="line">936</div><div class="line">937</div><div class="line">938</div><div class="line">939</div><div class="line">940</div><div class="line">941</div><div class="line">942</div><div class="line">943</div><div class="line">944</div><div class="line">945</div><div class="line">946</div><div class="line">947</div><div class="line">948</div><div class="line">949</div><div class="line">950</div><div class="line">951</div><div class="line">952</div><div class="line">953</div><div class="line">954</div><div class="line">955</div><div class="line">956</div><div class="line">957</div><div class="line">958</div><div class="line">959</div><div class="line">960</div><div class="line">961</div><div class="line">962</div><div class="line">963</div><div class="line">964</div><div class="line">965</div><div class="line">966</div><div class="line">967</div><div class="line">968</div><div class="line">969</div><div class="line">970</div><div class="line">971</div><div class="line">972</div><div class="line">973</div><div class="line">974</div><div class="line">975</div><div class="line">976</div><div class="line">977</div><div class="line">978</div><div class="line">979</div><div class="line">980</div><div class="line">981</div><div class="line">982</div><div class="line">983</div><div class="line">984</div><div class="line">985</div><div class="line">986</div><div class="line">987</div><div class="line">988</div><div class="line">989</div><div class="line">990</div><div class="line">991</div><div class="line">992</div><div class="line">993</div><div class="line">994</div><div class="line">995</div><div class="line">996</div><div class="line">997</div><div class="line">998</div><div class="line">999</div><div class="line">1000</div><div class="line">1001</div><div class="line">1002</div><div class="line">1003</div><div class="line">1004</div><div class="line">1005</div><div class="line">1006</div><div class="line">1007</div><div class="line">1008</div><div class="line">1009</div><div class="line">1010</div><div class="line">1011</div><div class="line">1012</div><div class="line">1013</div><div class="line">1014</div><div class="line">1015</div><div class="line">1016</div><div class="line">1017</div><div class="line">1018</div><div class="line">1019</div><div class="line">1020</div><div class="line">1021</div><div class="line">1022</div><div class="line">1023</div><div class="line">1024</div><div class="line">1025</div><div class="line">1026</div><div class="line">1027</div><div class="line">1028</div><div class="line">1029</div><div class="line">1030</div><div class="line">1031</div><div class="line">1032</div><div class="line">1033</div><div class="line">1034</div><div class="line">1035</div><div class="line">1036</div><div class="line">1037</div><div class="line">1038</div><div class="line">1039</div><div class="line">1040</div><div class="line">1041</div><div class="line">1042</div><div class="line">1043</div><div class="line">1044</div><div class="line">1045</div><div class="line">1046</div><div class="line">1047</div><div class="line">1048</div><div class="line">1049</div><div class="line">1050</div><div class="line">1051</div><div class="line">1052</div><div class="line">1053</div><div class="line">1054</div><div class="line">1055</div><div class="line">1056</div><div class="line">1057</div><div class="line">1058</div><div class="line">1059</div><div class="line">1060</div><div class="line">1061</div><div class="line">1062</div><div class="line">1063</div><div class="line">1064</div><div class="line">1065</div><div class="line">1066</div><div class="line">1067</div><div class="line">1068</div><div class="line">1069</div><div class="line">1070</div><div class="line">1071</div><div class="line">1072</div><div class="line">1073</div><div class="line">1074</div><div class="line">1075</div><div class="line">1076</div><div class="line">1077</div><div class="line">1078</div><div class="line">1079</div><div class="line">1080</div><div class="line">1081</div><div class="line">1082</div><div class="line">1083</div><div class="line">1084</div><div class="line">1085</div><div class="line">1086</div><div class="line">1087</div><div class="line">1088</div><div class="line">1089</div><div class="line">1090</div><div class="line">1091</div><div class="line">1092</div><div class="line">1093</div><div class="line">1094</div><div class="line">1095</div><div class="line">1096</div><div class="line">1097</div><div class="line">1098</div><div class="line">1099</div><div class="line">1100</div><div class="line">1101</div><div class="line">1102</div><div class="line">1103</div><div class="line">1104</div><div class="line">1105</div><div class="line">1106</div><div class="line">1107</div><div class="line">1108</div><div class="line">1109</div><div class="line">1110</div><div class="line">1111</div><div class="line">1112</div><div class="line">1113</div><div class="line">1114</div><div class="line">1115</div><div class="line">1116</div><div class="line">1117</div><div class="line">1118</div><div class="line">1119</div><div class="line">1120</div><div class="line">1121</div><div class="line">1122</div><div class="line">1123</div><div class="line">1124</div><div class="line">1125</div><div class="line">1126</div><div class="line">1127</div><div class="line">1128</div><div class="line">1129</div><div class="line">1130</div><div class="line">1131</div><div class="line">1132</div><div class="line">1133</div><div class="line">1134</div><div class="line">1135</div><div class="line">1136</div><div class="line">1137</div><div class="line">1138</div><div class="line">1139</div><div class="line">1140</div><div class="line">1141</div><div class="line">1142</div><div class="line">1143</div><div class="line">1144</div><div class="line">1145</div><div class="line">1146</div><div class="line">1147</div><div class="line">1148</div><div class="line">1149</div><div class="line">1150</div><div class="line">1151</div><div class="line">1152</div><div class="line">1153</div><div class="line">1154</div><div class="line">1155</div><div class="line">1156</div><div class="line">1157</div><div class="line">1158</div><div class="line">1159</div><div class="line">1160</div><div class="line">1161</div><div class="line">1162</div><div class="line">1163</div><div class="line">1164</div><div class="line">1165</div><div class="line">1166</div><div class="line">1167</div><div class="line">1168</div><div class="line">1169</div><div class="line">1170</div><div class="line">1171</div><div class="line">1172</div><div class="line">1173</div><div class="line">1174</div><div class="line">1175</div><div class="line">1176</div><div class="line">1177</div><div class="line">1178</div><div class="line">1179</div><div class="line">1180</div><div class="line">1181</div><div class="line">1182</div><div class="line">1183</div><div class="line">1184</div><div class="line">1185</div><div class="line">1186</div><div class="line">1187</div><div class="line">1188</div><div class="line">1189</div><div class="line">1190</div><div class="line">1191</div><div class="line">1192</div><div class="line">1193</div><div class="line">1194</div><div class="line">1195</div><div class="line">1196</div><div class="line">1197</div><div class="line">1198</div><div class="line">1199</div><div class="line">1200</div><div class="line">1201</div><div class="line">1202</div><div class="line">1203</div><div class="line">1204</div><div class="line">1205</div><div class="line">1206</div><div class="line">1207</div><div class="line">1208</div><div class="line">1209</div><div class="line">1210</div><div class="line">1211</div><div class="line">1212</div><div class="line">1213</div><div class="line">1214</div><div class="line">1215</div><div class="line">1216</div><div class="line">1217</div><div class="line">1218</div><div class="line">1219</div><div class="line">1220</div><div class="line">1221</div><div class="line">1222</div><div class="line">1223</div><div class="line">1224</div><div class="line">1225</div><div class="line">1226</div><div class="line">1227</div><div class="line">1228</div><div class="line">1229</div><div class="line">1230</div><div class="line">1231</div><div class="line">1232</div><div class="line">1233</div><div class="line">1234</div><div class="line">1235</div><div class="line">1236</div><div class="line">1237</div><div class="line">1238</div><div class="line">1239</div><div class="line">1240</div><div class="line">1241</div><div class="line">1242</div><div class="line">1243</div><div class="line">1244</div><div class="line">1245</div><div class="line">1246</div><div class="line">1247</div><div class="line">1248</div><div class="line">1249</div><div class="line">1250</div><div class="line">1251</div><div class="line">1252</div><div class="line">1253</div><div class="line">1254</div><div class="line">1255</div><div class="line">1256</div><div class="line">1257</div><div class="line">1258</div><div class="line">1259</div><div class="line">1260</div><div class="line">1261</div><div class="line">1262</div><div class="line">1263</div><div class="line">1264</div><div class="line">1265</div><div class="line">1266</div><div class="line">1267</div><div class="line">1268</div><div class="line">1269</div><div class="line">1270</div><div class="line">1271</div><div class="line">1272</div><div class="line">1273</div><div class="line">1274</div><div class="line">1275</div><div class="line">1276</div><div class="line">1277</div><div class="line">1278</div><div class="line">1279</div><div class="line">1280</div><div class="line">1281</div><div class="line">1282</div><div class="line">1283</div><div class="line">1284</div><div class="line">1285</div><div class="line">1286</div><div class="line">1287</div><div class="line">1288</div><div class="line">1289</div><div class="line">1290</div><div class="line">1291</div><div class="line">1292</div><div class="line">1293</div><div class="line">1294</div><div class="line">1295</div><div class="line">1296</div><div class="line">1297</div><div class="line">1298</div><div class="line">1299</div><div class="line">1300</div><div class="line">1301</div><div class="line">1302</div><div class="line">1303</div><div class="line">1304</div><div class="line">1305</div><div class="line">1306</div><div class="line">1307</div><div class="line">1308</div><div class="line">1309</div><div class="line">1310</div><div class="line">1311</div><div class="line">1312</div><div class="line">1313</div><div class="line">1314</div><div class="line">1315</div><div class="line">1316</div><div class="line">1317</div><div class="line">1318</div><div class="line">1319</div><div class="line">1320</div><div class="line">1321</div><div class="line">1322</div><div class="line">1323</div><div class="line">1324</div><div class="line">1325</div><div class="line">1326</div><div class="line">1327</div><div class="line">1328</div><div class="line">1329</div><div class="line">1330</div><div class="line">1331</div><div class="line">1332</div><div class="line">1333</div><div class="line">1334</div><div class="line">1335</div><div class="line">1336</div><div class="line">1337</div><div class="line">1338</div><div class="line">1339</div><div class="line">1340</div><div class="line">1341</div><div class="line">1342</div><div class="line">1343</div><div class="line">1344</div><div class="line">1345</div><div class="line">1346</div><div class="line">1347</div><div class="line">1348</div><div class="line">1349</div><div class="line">1350</div><div class="line">1351</div><div class="line">1352</div><div class="line">1353</div><div class="line">1354</div><div class="line">1355</div><div class="line">1356</div><div class="line">1357</div><div class="line">1358</div><div class="line">1359</div><div class="line">1360</div><div class="line">1361</div><div class="line">1362</div><div class="line">1363</div><div class="line">1364</div><div class="line">1365</div><div class="line">1366</div><div class="line">1367</div><div class="line">1368</div><div class="line">1369</div><div class="line">1370</div><div class="line">1371</div><div class="line">1372</div><div class="line">1373</div><div class="line">1374</div><div class="line">1375</div><div class="line">1376</div><div class="line">1377</div><div class="line">1378</div><div class="line">1379</div><div class="line">1380</div><div class="line">1381</div><div class="line">1382</div><div class="line">1383</div><div class="line">1384</div><div class="line">1385</div><div class="line">1386</div><div class="line">1387</div><div class="line">1388</div><div class="line">1389</div><div class="line">1390</div><div class="line">1391</div><div class="line">1392</div><div class="line">1393</div><div class="line">1394</div><div class="line">1395</div><div class="line">1396</div><div class="line">1397</div><div class="line">1398</div><div class="line">1399</div><div class="line">1400</div><div class="line">1401</div><div class="line">1402</div><div class="line">1403</div><div class="line">1404</div><div class="line">1405</div><div class="line">1406</div><div class="line">1407</div><div class="line">1408</div><div class="line">1409</div><div class="line">1410</div><div class="line">1411</div><div class="line">1412</div><div class="line">1413</div><div class="line">1414</div><div class="line">1415</div><div class="line">1416</div><div class="line">1417</div><div class="line">1418</div><div class="line">1419</div><div class="line">1420</div><div class="line">1421</div><div class="line">1422</div><div class="line">1423</div><div class="line">1424</div><div class="line">1425</div><div class="line">1426</div><div class="line">1427</div><div class="line">1428</div><div class="line">1429</div><div class="line">1430</div><div class="line">1431</div><div class="line">1432</div><div class="line">1433</div><div class="line">1434</div><div class="line">1435</div><div class="line">1436</div><div class="line">1437</div><div class="line">1438</div><div class="line">1439</div></pre></td><td class="code"><pre><div class="line">7.1 错误和异常</div><div class="line"></div><div class="line">拼写错误、访问不存在的变量，括号不匹配，等号与赋值</div><div class="line"> </div><div class="line">声明变量时，要记住局部变量和全局变量的区别</div><div class="line"> </div><div class="line">Function square(num)&#123;</div><div class="line">    Total = num*num;</div><div class="line">Return total;</div><div class="line">&#125;</div><div class="line">Var total = 50;</div><div class="line">Var number = Square(20);</div><div class="line">Alert(total);</div><div class="line"> </div><div class="line">这些代码将不可避免地导致全局变量total的值发生变化。</div><div class="line">Function square(num)&#123;</div><div class="line">    Var Total = num*num;</div><div class="line">Return total;</div><div class="line">&#125;</div><div class="line">7.2 错误处理</div><div class="line"> </div><div class="line">onerror</div><div class="line">&lt;head&gt;</div><div class="line">&lt;title&gt;onerror&lt;/title&gt;</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">window.onerror = function()&#123;</div><div class="line">    alert(“出错啦！”);</div><div class="line">    return true;    //屏蔽系统事件</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body onload=”nonExistent()”&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line">Try..catch</div><div class="line">&lt;script language=”javascript”&gt;</div><div class="line">try&#123;</div><div class="line">    alert(“this is an example”);</div><div class="line">    alert(fresheggs);</div><div class="line">&#125; catch(exception)&#123;</div><div class="line">    var sError = “”;</div><div class="line">    for(var i in exception)</div><div class="line">        sError += i + “:” + exception[i] + “\n”;</div><div class="line">    alert(sError);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">7.3 调试器</div><div class="line">IE-工具-Intenet选项-高级-&gt;禁用调试，显示脚本错误</div><div class="line"> </div><div class="line">Firefox错误控制台</div><div class="line">Microsoft script debugger</div><div class="line">Venkman firefox的插件</div><div class="line"> </div><div class="line"> ```js</div><div class="line">6.4 JavaScript优化</div><div class="line">```js</div><div class="line">1.提高JavaScript下载时间。将JavaScript写到同一行</div><div class="line">2.尽量使用内置函数（因为内置函数是通过C语言编译到浏览器中的）</div><div class="line">.实例</div><div class="line">1 图片查看器</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;&lt;/title&gt;</div><div class="line">    &lt;script&gt;</div><div class="line">        </div><div class="line">        function showPic(obj)&#123;</div><div class="line">                var h = obj.getAttribute(“href”);        </div><div class="line">                document.getElementById(“image”).setAttribute(“src”,h);</div><div class="line">        &#125;</div><div class="line">    &lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;h1&gt;Snapshots&lt;/h1&gt;</div><div class="line">&lt;ul&gt;</div><div class="line">    &lt;li&gt;&lt;a href=”photo/01.jpg” title=”a” onclick=”showPic(this);return false;“&gt;01&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=”photo/02.jpg” title=”b” onclick=”showPic(this);return false;”&gt;02&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=”photo/03.jpg” title=”c” onclick=”showPic(this);return false;”&gt;03&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=”photo/04.jpg” title=”d” onclick=”showPic(this);return false;”&gt;04&lt;/a&gt;&lt;/li&gt;</div><div class="line">    &lt;li&gt;&lt;a href=”photo/05.jpg” title=”e” onclick=”showPic(this);return false;”&gt;05&lt;/a&gt;&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;img id=”image” src=”photo/01.jpg” alt=”my image”&gt;&lt;/img&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">Return false指的是把默认的noclick事件取消</div><div class="line">给其加上css</div><div class="line">&lt;style&gt;</div><div class="line">    body&#123;</div><div class="line">        color:#333;</div><div class="line">        background:#ccc;</div><div class="line">        margin:1em 10%;</div><div class="line">    &#125;</div><div class="line">    a&#123;</div><div class="line">        text-decoration:none;</div><div class="line">        padding:10px;</div><div class="line">        color:#c60;</div><div class="line">    &#125;</div><div class="line">    a:link, a:visited&#123;</div><div class="line">        color: #A62020; background-color: #ecd8db; text-decoration: none; padding:4px 10px 4px 10px;</div><div class="line">        border-top:1px solid #EEE;</div><div class="line">        border-left:1px solid #EEE;</div><div class="line">        border-bottom:1px solid #717171;</div><div class="line">        border-right:1px solid #717171;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    a:hover&#123;</div><div class="line">        color:#821818; background-color:#e2c4c9; padding:5px 8px 3px 12px;</div><div class="line">        border-top:1px solid #717171;</div><div class="line">        border-left:1px solid #717171;</div><div class="line">        border-bottom:1px solid #EEE;</div><div class="line">        border-right:1px solid #EEE;&#125;</div><div class="line">    ul&#123;</div><div class="line">        margin:0px;</div><div class="line">        padding:0px;</div><div class="line">    &#125;</div><div class="line">    li&#123;</div><div class="line">        list-style-type:none;</div><div class="line">        display:inline;</div><div class="line">    &#125;</div><div class="line">    img&#123;</div><div class="line">        margin:10px 0px;</div><div class="line">    &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">当时现在有个缺陷，就是onclick的事件直接写在了HTML上，分离</div><div class="line">先给ul加上个属性id&lt;ul id=”img_ul”&gt;</div><div class="line">window.onload = prepareGalley;</div><div class="line">        function prepareGalley()&#123;</div><div class="line">            var img_ul = document.getElementById(“img_ul”);</div><div class="line">            var links = img_ul.getElementsByTagName(“a”);</div><div class="line"> </div><div class="line">            for(var i=0;i&lt;links.length;i++)&#123;</div><div class="line">                links[i].onclick = function()&#123;</div><div class="line">                    showPic(this);</div><div class="line">                    return false;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"> </div><div class="line"> </div><div class="line">有一个问题，如果onload的函数有多个怎么办？</div><div class="line">window.onload = prepareGalley1;</div><div class="line">window.onload = prepareGalley2;</div><div class="line">显然，这样第一个函数就会被第二个函数覆盖。</div><div class="line"> </div><div class="line">可以这样写</div><div class="line"> </div><div class="line">Window.onload = function()&#123;</div><div class="line">    prepareGalley1();</div><div class="line">    prepareGalley2();</div><div class="line">&#125;</div><div class="line"> </div><div class="line">还有一个比这个更NB的写法，由Simon Willison写的</div><div class="line">function addLoadEvent(func)&#123;</div><div class="line">            var oldonload = window.onload;</div><div class="line">            if(typeof window.onload !=’function’)&#123;</div><div class="line">                window.onload = func;</div><div class="line">            &#125;else&#123;</div><div class="line">                window.onload = function()&#123;</div><div class="line">                    oldonload();</div><div class="line">                    func();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    addLoadEvent(prepareGalley1);</div><div class="line">    addLoadEvent(prepareGalley2);</div><div class="line"> </div><div class="line">编写一个方法求一个字符串的字节长度</div><div class="line">new function(s)&#123;</div><div class="line">        if(!arguments.length||!s) return null;     </div><div class="line">    if(“”==s) return 0;     </div><div class="line">    var l=0;</div><div class="line">        for(var i=0;i&lt;s.length;i++)&#123;         </div><div class="line">        if(s.charCodeAt(i)&gt;255) l+=2; else l++;     </div><div class="line">    &#125;     </div><div class="line">    alert(l);</div><div class="line">&#125;(“hello world!”);</div><div class="line"> </div><div class="line">如何控制alert中的换行</div><div class="line">alert(“hello\nworld”);</div><div class="line"> </div><div class="line">解释document.getElementById(“ElementID”).style.fontSize=”1.5em”</div><div class="line">设置id为ElementID的元素的字体大小为1.5个相对单位</div><div class="line">Em为相对长度单位。相对于当前对象内文本的字体尺寸。</div><div class="line">如当前对行内文本的字体尺寸未被人为设置，则相对于浏览器的默认字体尺寸。</div><div class="line">    1em=16px</div><div class="line"> </div><div class="line">按照格式 xxxx年xx月xx日xx时xx分xx秒动态显示时间要求不足10的补0</div><div class="line">&lt;script type=”text/javascript” language=”javascript”&gt;    </div><div class="line">function tick()&#123;</div><div class="line">var d=new Date();</div><div class="line">var t=function(a)&#123;return a&lt;10?”0″+a:a;&#125;</div><div class="line">Clock.innerHTML=d.getFullYear()+”年”+t(d.getMonth()+1)+”月”+t(d.getDate())+”日”+t(d.getHours())+”时”</div><div class="line">+t(d.getMinutes())+”分”+t(d.getSeconds())+”秒”;</div><div class="line">window.setTimeout(“tick()”,1000);</div><div class="line">&#125;</div><div class="line">window.onload=tick;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=”Clock”&gt;&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line">编写一个方法去掉一个数组的重复元素</div><div class="line">    Array.prototype.strip=function()&#123;     </div><div class="line">if(this.length&lt;2) return [this[0]]||[];     </div><div class="line">var arr=[];     </div><div class="line">for(var i=0;i&lt;this.length;i++)&#123;         </div><div class="line">arr.push(this.splice(i–,1));//将本数组中第一个元素取出放入到数组arr中        </div><div class="line">for(var j=0;j&lt;this.length;j++)&#123;             </div><div class="line">if(this[j]==arr[arr.length-1])&#123;                 </div><div class="line">this.splice(j–,1);//删除本数组中与数组arr中最后一个元素相同的元素</div><div class="line">&#125;         </div><div class="line">&#125;     </div><div class="line">&#125;</div><div class="line">return arr;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">var arr=["abc",85,"abc",85,8,8,1,2,5,4,7,8];</div><div class="line">alert(arr.strip());</div><div class="line"> </div><div class="line">说出3条以上ff和ie的脚本兼容问题</div><div class="line">IE有children，FF没有；</div><div class="line">IE有parentElement，FF没有；</div><div class="line">IE有 innerText,outerText,outerHTML，FF没有；</div><div class="line">IE有数据岛，FF没有；</div><div class="line">FF有</div><div class="line">HTMLElement,HTMLDivElement,XMLDocument,DocumentFragment,Node,Event,Element 等等，IE没有；</div><div class="line">IE跟FF创建HttpRequest实例的方法不一样</div><div class="line"> </div><div class="line">DIV中border、margin和padding的区别和用法</div><div class="line">边框属性(border)用来设定一个元素的边线</div><div class="line">外边距属性(margin)是用来设置一个元素所占空间的边缘到相邻元素之间的距离</div><div class="line">内边距属性(padding)是用来设置元素内容到元素边界的距离</div><div class="line"> </div><div class="line">为Array写一个indexof方法</div><div class="line">Array.prototype.indexOf = function(e)&#123;</div><div class="line">for(var i=0,j; j=this[i]; i++)&#123;</div><div class="line">if(j==e)&#123;return i;&#125;</div><div class="line">&#125;</div><div class="line">return -1;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">Array.prototype.lastIndexOf = function(e)&#123;</div><div class="line">for(var i=this.length-1,j; j=this[i]; i–)&#123;</div><div class="line">if(j==e)&#123;return i;&#125;</div><div class="line">&#125;</div><div class="line">return -1;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">var arr=[1,2,3,4,5];</div><div class="line">alert(arr.indexOf(5));</div><div class="line"> </div><div class="line">克隆</div><div class="line">浅复制(影子克隆):只复制对象的基本类型,对象类型,仍属于原来的引用</div><div class="line">深复制(深度克隆):不紧复制对象的基本类,同时也复制原对象中的对象.就是说完全是新对象产生的</div><div class="line"> </div><div class="line">Object.prototype.Clone = function()&#123;</div><div class="line">    var objClone;</div><div class="line">    if( this.constructor == Object )</div><div class="line">objClone = new this.constructor();</div><div class="line">    else</div><div class="line">objClone = new this.constructor(this.valueOf());</div><div class="line">    for ( var key in this )&#123;</div><div class="line">    if ( objClone[key] != this[key] )&#123;</div><div class="line">    if ( typeof(this[key]) == ‘object’ )&#123;</div><div class="line">    objClone[key] = this[key].Clone();</div><div class="line">    &#125;else&#123;</div><div class="line">    objClone[key] = this[key];</div><div class="line">    &#125;</div><div class="line">    &#125;</div><div class="line">    &#125;</div><div class="line">    objClone.toString = this.toString;</div><div class="line">    objClone.valueOf = this.valueOf;</div><div class="line">    return objClone;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">兼容 IE 和 FF 的换行 CSS 推荐样式</div><div class="line">word-wrap:break-word; overflow:hidden;</div><div class="line"> </div><div class="line">word-wrap是控制换行的。使用break-word时，是将强制换行。中文没有任何问题，英文语句也没问题。但是对于长串的英文，就不起作用。</div><div class="line"> </div><div class="line">word-break是控制是否断词的。</div><div class="line">normal是默认情况，英文单词不被拆开。</div><div class="line">break-all，是断开单词。在单词到边界时，下个字母自动到下一行。主要解决了长串英文的问题。</div><div class="line">keep-all，是指Chinese, Japanese, and Korean不断词。即只用此时，不用word-wrap，中文就不会换行了。（英文语句正常。）</div><div class="line"> </div><div class="line">手型Cursor的兼容IE和FF写法</div><div class="line">cursor:pointer</div><div class="line"> </div><div class="line">&lt;img&gt;元素的alt和title有什么异同？</div><div class="line">alt作为图片的替代文字出现，title是图片的解释文字</div><div class="line"> </div><div class="line">图片存在</div><div class="line">只有alt 图片的解释文字</div><div class="line">只有title 图片的解释文字</div><div class="line">两者都有图片的解释文字</div><div class="line">两者都没有图片既没有替代文字，也没有解释文字</div><div class="line"> </div><div class="line">图片不存在</div><div class="line">只有alt 图片既有替代文字，又有解释文字</div><div class="line">只有title 图片没有替代文字，只有解释文字</div><div class="line">两者都有图片既有替代文字，又有解释文字</div><div class="line">两者都没有图片既没有替代文字，也没有解释文字</div><div class="line"> </div><div class="line">当然不同的浏览器处理方式也会不一样</div><div class="line"> </div><div class="line">border-color-left、marin-left、-moz-viewport改写成JavaScript格式</div><div class="line">border-color-left:borderLeftColor</div><div class="line">marin-left:marinLeft</div><div class="line">-moz-viewport:MozViewport</div><div class="line"> </div><div class="line">用css、html编写一个两列布局的网页，要求右侧宽度为200px，左侧自动扩展。</div><div class="line">CSS:</div><div class="line">#right&#123;</div><div class="line">    float:right;</div><div class="line">    width:200px;</div><div class="line">&#125;</div><div class="line">#left&#123;</div><div class="line">    marin-right:200px;</div><div class="line">&#125;</div><div class="line">HTML:</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div id=”right”&gt;…&lt;/div&gt;</div><div class="line">    &lt;div id=”left”&gt;…&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line">Linux题目：批量删除当前目录下后缀名为.c的文件，如a.c、b.c</div><div class="line">rm *.c</div><div class="line"> </div><div class="line">如何提高网页的运行速度</div><div class="line">内容与形式分离，模块化开发，优化CSS</div><div class="line">减少页面文档大小</div><div class="line">尽量减少图片的使用或注意图片的大小，优化图片：格式、质量、图片长宽标志</div><div class="line">减少响应的次数，用Ajax</div><div class="line">网址后面加一个”/”</div><div class="line"> </div><div class="line">按要求写一个简单的ajax示例</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=”load”&gt;数据正在加载……&lt;/div&gt;</div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">var Browser=&#123;/**Browser对象用于检测浏览器，其中用到了IE的条件编译*/</div><div class="line">isFF:window.navigator.appName.toUpperCase().indexOf(“NETSCAPE”)!=-1?true:false,     </div><div class="line">isOpera:window.navigator.appName.toUpperCase().indexOf(“OPERA”)!=-1?true:false</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">Function.prototype.bind=function(object)&#123;     </div><div class="line">var _this=this;     </div><div class="line">return function()&#123;         </div><div class="line">_this.apply(object,arguments);     </div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">function HttpRequest()&#123;     </div><div class="line">this.async=true;     </div><div class="line">this.cache=false;     </div><div class="line">this.xmlhttp=function()&#123;         </div><div class="line">if(Browser.isFF&amp;&amp;window.XMLHttpRequest)&#123;             </div><div class="line">try&#123;                </div><div class="line">return new XMLHttpRequest();</div><div class="line">&#125;catch(e)&#123;&#125;         </div><div class="line">&#125;else if(Browser.isIE&amp;&amp;window.ActiveXObject)&#123;             </div><div class="line">var Version = ["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","Msxml2.XMLHTTP.3.0",+</div><div class="line">"Msxml2.XMLHTTP.2.6","Msxml2.XMLHTTP","Microsoft.XMLHTTP.1.0","Microsoft.XMLHTTP.1","Microsoft.XMLHTTP"];             </div><div class="line">for(var i=0;i&lt;Version.length;i++)&#123;                 </div><div class="line">try&#123;                    </div><div class="line">return new ActiveXObject(Version[i]);                 </div><div class="line">&#125;catch(e)&#123;&#125;             </div><div class="line">&#125;         </div><div class="line">&#125;     </div><div class="line">&#125;()||false;</div><div class="line">&#125;HttpRequest.prototype=&#123;</div><div class="line">send:function(object,url,callback)&#123;         </div><div class="line">if(!this.xmlhttp) return;         </div><div class="line">this.xmlhttp.open(object?”post”:”get”,url,!!this.async);</div><div class="line">if(object) this.xmlhttp.setRequestHeader(“content-type”,”application/x-www-form-urlencoded”);         </div><div class="line">if(!this.cache)&#123;             </div><div class="line">this.xmlhttp.setRequestHeader(“No-Cache”,”1″);             </div><div class="line">this.xmlhttp.setRequestHeader(“Pragma”,”no-cache”);             </div><div class="line">this.xmlhttp.setRequestHeader(“Cache-Control”,”no-cache”);</div><div class="line">this.xmlhttp.setRequestHeader(“Expire”,”0″);             </div><div class="line">this.xmlhttp.setRequestHeader(“Last-Modified”,”Wed, 1 Jan 1997 00:00:00 GMT”);             </div><div class="line">this.xmlhttp.setRequestHeader(“If-Modified-Since”,”-1″);</div><div class="line">&#125;         </div><div class="line">if(!this.callback) this.callback=callback;         </div><div class="line">if(!this.async)&#123;             </div><div class="line">if(typeof(this.callback)==”string”)&#123;                 </div><div class="line">eval(this.callback);             </div><div class="line">&#125;else if(typeof(this.callback)==”function”)&#123;                 </div><div class="line">this.callback(this.xmlhttp);</div><div class="line">&#125;         </div><div class="line">&#125;else&#123;             </div><div class="line">this.xmlhttp.onreadystatechange=function()&#123;                 </div><div class="line">if(this.xmlhttp.readyState==4)&#123;                     </div><div class="line">if(this.xmlhttp.status==0||this.xmlhttp.status==200)&#123;                         </div><div class="line">if(typeof(this.callback)==”string”)&#123;                             </div><div class="line">eval(this.callback);                         </div><div class="line">&#125;elseif(typeof(this.callback)==”function”)&#123;                             </div><div class="line">this.callback(this.xmlhttp);                         </div><div class="line">&#125;                     </div><div class="line">&#125;                 </div><div class="line">&#125;             </div><div class="line">&#125;.bind(this);         </div><div class="line">&#125;         </div><div class="line">this.xmlhttp.send(object);     </div><div class="line">&#125;,abort:function()&#123;         </div><div class="line">if(this.xmlhttp&amp;&amp;this.xmlhttp.abort) this.xmlhttp.abort();     </div><div class="line">&#125;</div><div class="line">&#125;; //ajax类定义结束</div><div class="line">new HttpRequest().send(null,”http://bbs.51js.com/index.php”,function(r)&#123;</div><div class="line">document.getElementById(“load”).innerHTML=r.responseText.match(/&lt;img.*?(?:\/)?&gt;/img).join(“”); &#125;);</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line"> </div><div class="line"> </div><div class="line"> </div><div class="line">IE6、IE7、IE8、Firefox兼容性CSS HACK代码+示例</div><div class="line">________________________________________</div><div class="line">整理关于IE6、IE7、IE8、Firefox兼容性CSS HACK问题</div><div class="line">1.区别IE和非IE浏览器CSS HACK代码</div><div class="line">#divcss5&#123;</div><div class="line">background:blue; /*非IE 背景藍色*/</div><div class="line">background:red \9; /*IE6、IE7、IE8背景紅色*/</div><div class="line">&#125;</div><div class="line">2.区别IE6,IE7,IE8,FF CSS HACK</div><div class="line">【区别符号】：「\9」、「*」、「_」</div><div class="line">【示例】：</div><div class="line">#divcss5&#123;</div><div class="line">background:blue; /*Firefox 背景变蓝色*/</div><div class="line">background:red \9; /*IE8 背景变红色*/</div><div class="line">*background:black; /*IE7 背景变黑色*/</div><div class="line">_background:orange; /*IE6 背景变橘色*/</div><div class="line">&#125;</div><div class="line"> </div><div class="line">【说明】：因为IE系列浏览器可读「\9」，而IE6和IE7可读「*」(米字号)，另外IE6可辨识「_」(底线)，因此可以依照顺序写下来，就会让浏览器正确的读取到自己看得懂得CSS语法，所以就可以有效区分IE各版本和非IE浏览器(像是Firefox、Opera、Google Chrome、Safari等)。</div><div class="line">3.区别IE6、IE7、Firefox (EXP 1)</div><div class="line">【区别符号】：「*」、「_」</div><div class="line">【示例】：</div><div class="line">#divcss5&#123;</div><div class="line">background:blue; /*Firefox背景变蓝色*/</div><div class="line">*background:black; /*IE7 背景变黑色*/</div><div class="line">_background:orange; /*IE6 背景变橘色*/</div><div class="line">&#125;</div><div class="line"> </div><div class="line">【说明】：IE7和IE6可读「*」(米字号)，IE6又可以读「_」(底线)，但是IE7却无法读取「_」，至于Firefox(非IE浏览器)则完全无法辨识「*」和「_」，因此就可以透过这样的差异性来区分IE6、IE7、Firefox</div><div class="line">4.区别IE6、IE7、Firefox (EXP 2)</div><div class="line">【区别符号】：「*」、「!important」</div><div class="line">【示例】：</div><div class="line">#divcss5&#123;</div><div class="line">background:blue; /*Firefox 背景变蓝色*/</div><div class="line">*background:green !important; /*IE7 背景变绿色*/</div><div class="line">*background:orange; /*IE6 背景变橘色*/</div><div class="line">&#125;</div><div class="line"> </div><div class="line">【说明】：IE7可以辨识「*」和「!important」，但是IE6只可以辨识「*」，却无法辨识「!important」，至于Firefox可以读取「!important」但不能辨识「*」因此可以透过这样的差异来有效区隔IE6、IE7、Firefox。</div><div class="line">5.区别IE7、Firefox</div><div class="line">【区别符号】：「*」、「!important」</div><div class="line">【示例】：</div><div class="line">#divcss5&#123;</div><div class="line">background:blue; /*Firefox 背景变蓝色*/</div><div class="line">*background:green !important; /*IE7 背景变绿色*/</div><div class="line">&#125;</div><div class="line"> </div><div class="line">【说明】：因为Firefox可以辨识「!important」但却无法辨识「*」，而IE7则可以同时看懂「*」、「!important」，因此可以两个辨识符号来区隔IE7和Firefox。</div><div class="line">6.区别IE6、IE7 (EXP 1)</div><div class="line">【区别符号】：「*」、「_」</div><div class="line">【示例】：</div><div class="line">#tip &#123;</div><div class="line">*background:black; /*IE7 背景变黑色*/</div><div class="line">_background:orange; /*IE6 背景变橘色*/</div><div class="line">&#125;</div><div class="line"> </div><div class="line">【说明】：IE7和IE6都可以辨识「*」(米字号)，但IE6可以辨识「_」(底线)，IE7却无法辨识，透过IE7无法读取「_」的特性就能轻鬆区隔IE6和IE7之间的差异。</div><div class="line">7.区别IE6、IE7 (EXP 2)</div><div class="line">【区别符号】：「!important」</div><div class="line">【示例】：</div><div class="line">#divcss5&#123;</div><div class="line">background:black !important; /*IE7 背景变黑色*/</div><div class="line">background:orange; /*IE6 背景变橘色*/</div><div class="line">&#125;</div><div class="line">【说明】：因为IE7可读取「!important;」但IE6却不行，而CSS的读取步骤是从上到下，因此IE6读取时因无法辨识「!important」而直接跳到下一行读取CSS，所以背景色会呈现橘色。</div><div class="line">8.区别IE6、Firefox</div><div class="line">【区别符号】：「_」</div><div class="line">【示例】：</div><div class="line">#divcss5&#123;</div><div class="line">background:black; /*Firefox 背景变黑色*/</div><div class="line"> </div><div class="line">_background:orange; /*IE6 背景变橘色*/</div><div class="line">&#125;</div><div class="line">【说明】：因为IE6可以辨识「_」(底线)，但是Firefox却不行，因此可以透过这样的差异来区隔Firefox和IE6，有效达成CSS hack。</div><div class="line">以上包括了IE6\IE8\IE7\火狐浏览器兼容问题及解决方法。</div><div class="line"> </div><div class="line">[HTML&amp;&amp; CSS]</div><div class="line">1. Doctype? 严格模式与混杂模式-如何触发这两种模式，区分它们有何意义?</div><div class="line">Doctype声明位于文档中的最前面的位置，处于标签之前。此标签可告知浏览器文档使用哪种 HTML 或 XHTML 规范。该标签可声明三种DTD 类型，分别表示严格版本、过渡版本以及基于框架的 HTML 文档。</div><div class="line">当浏览器厂商开始创建与标准兼容的浏览器时，他们希望确保向后兼容性。为了实现这一点，他们创建了两种呈现模式：标准模式和混杂模式（quirks mode）。在标准模式中，浏览器根据规范呈现页面；在混杂模式中，页面以一种比较宽松的向后兼容的方式显示。混杂模式通常模拟老式浏览器（比如Microsoft IE 4和Netscape Navigator 4）的行为以防止老站点无法工作。</div><div class="line">浏览器根据DOCTYPE是否存在以及使用的哪种DTD来选择要使用的呈现方法。如果XHTML文档包含形式完整的DOCTYPE，那么它一般以标准模式呈现。对于HTML 4.01文档，包含严格DTD的DOCTYPE常常导致页面以标准模式呈现。包含过渡DTD和URI的DOCTYPE也导致页面以标准模式呈现，但是有过渡DTD而没有URI会导致页面以混杂模式呈现。DOCTYPE不存在或形式不正确会导致HTML和XHTML文档以混杂模式呈现。</div><div class="line">2. 行内元素有哪些？块级元素有哪些？CSS的盒模型？</div><div class="line">行内元素有：a b span I bem img input select strong</div><div class="line">块级元素有：div ul ol lidl dt dd h1 h2 h3 h4…p</div><div class="line">盒模型：margin borderpadding width</div><div class="line">3. CSS引入的方式有哪些? link和@import的区别是?</div><div class="line">1. 使用 LINK标签</div><div class="line">将样式规则写在.css的样式文件中，再以&lt;link&gt;标签引入。</div><div class="line">&lt;link rel=stylesheet type=”text/css” href=”example.css”&gt;</div><div class="line">2. 使用@import引入</div><div class="line">跟link方法很像，但必须放在&lt;STYLE&gt;…&lt;/STYLE&gt;中</div><div class="line">&lt;STYLE TYPE=”text/css”&gt;</div><div class="line">&lt;!–</div><div class="line">@import url(css/example.css);</div><div class="line">–&gt;</div><div class="line">&lt;/STYLE&gt;</div><div class="line">3. 使用STYLE标签</div><div class="line">将样式规则写在&lt;STYLE&gt;…&lt;/STYLE&gt;标签之中。</div><div class="line">&lt;STYLE TYPE=”text/css”&gt;</div><div class="line">&lt;!–</div><div class="line">body &#123;color: #666;background: #f0f0f0;font-size: 12px;&#125;</div><div class="line">td,p &#123;color:#c00;font-size: 12px;&#125;</div><div class="line">–&gt;</div><div class="line">&lt;/STYLE&gt;</div><div class="line">4. 使用STYLE属性</div><div class="line">将STYLE属性直接加在个别的元件标签里，&lt;元件(标签) STYLE=”性质(属性)1: 设定值1; 性质(属性)2: 设定值2; …&#125;</div><div class="line">5. 使用&lt;span&gt;&lt;/span&gt;标记引入样式</div><div class="line">&lt;span style=”font:12px/20px #000000;”&gt;cnwebshow.com&lt;/span&gt;</div><div class="line"> </div><div class="line">两者区别：加载顺序的差别。当一个页面被加载的时候，link引用的CSS会同时被加载，而@import引用的CSS会等到页面全部被下载完再被加载。@import可以在css中再次引入其他样式表，比如可以创建一个主样式表，在主样式表中再引入其他的样式表，如：</div><div class="line"> </div><div class="line">main.css</div><div class="line">———————-</div><div class="line">@import”sub1.css”;</div><div class="line">@import”sub2.css”;</div><div class="line">这样做有一个缺点，会对网站服务器产生过多的HTTP请求，以前是一个文件，而现在却是两个或更多文件了，服务器的压力增大，浏览量大的网站还是谨慎使用。</div><div class="line"> </div><div class="line">4. CSS选择符有哪些？哪些属性可以继承？优先级算法如何计算？内联和important哪个优先级高？</div><div class="line">通配选择符* &#123; sRules &#125;</div><div class="line">类型选择符E &#123; sRules &#125;</div><div class="line">td &#123; font-size:14px; width:120px; &#125;</div><div class="line">属性选择符</div><div class="line">E [ attr ] &#123; sRules &#125;</div><div class="line">E [ attr = value ] &#123; sRules &#125;</div><div class="line">E [ attr ~= value ] &#123; sRules &#125;</div><div class="line">E [ attr |= value ] &#123; sRules &#125;</div><div class="line">h[title] &#123; color: blue; &#125;/* 所有具有title属性的h对象 */</div><div class="line">span[class=demo] &#123; color: red; &#125;</div><div class="line">div[speed="fast"][dorun="no"] &#123; color: red; &#125;</div><div class="line">a[rel~="copyright"] &#123; color:black; &#125;</div><div class="line">包含选择符E1 E2 &#123; sRules &#125;</div><div class="line">table td &#123; font-size:14px; &#125;</div><div class="line">子对象选择符E1 &gt; E2 &#123; sRules &#125;</div><div class="line">div ul&gt;li p &#123; font-size:14px; &#125;</div><div class="line">ID选择符#ID &#123; sRules &#125;</div><div class="line">类选择符E.className &#123; sRules &#125;</div><div class="line">选择符分组</div><div class="line">E1 , E2 , E3 &#123; sRules &#125;</div><div class="line">伪类及伪对象选择符</div><div class="line">E : Pseudo-Classes &#123; sRules &#125;</div><div class="line">( Pseudo-Classes )[:link :hover :active :visited :focus :first-child :first :left :right :lang]</div><div class="line">E : Pseudo-Elements &#123; sRules &#125;</div><div class="line">( Pseudo-Elements )[:first-letter :first-line :before :after]</div><div class="line">可以继承的有：font-size font-family color</div><div class="line">不可继承的一般有：border padding margin background-color width height等</div><div class="line">============================</div><div class="line">关于CSS specificity</div><div class="line">CSS 的specificity 特性或称非凡性，它是衡量一个衡量CSS值优先级的一个标准，既然作为标准，就具有一套相关的判定规定及计算方式，specificity用一个四位的数字串(CSS2是三位)来表示，更像四个级别，值从左到右，左面的最大，一级大于一级，数位之间没有进制，级别之间不可超越。</div><div class="line">在多个选择符应用于同一个元素上那么Specificity值高的最终获得优先级。</div><div class="line">使用!important可以改变优先级别为最高，其次是style对象，然后是id&gt; class &gt;tag ，另外在同级样式按照申明的顺序后出现的样式具有高优先级。</div><div class="line">5. 前端页面由哪三层构成，分别是什么？作用是什么？</div><div class="line">网页分成三个层次，即：结构层、表示层、行为层。</div><div class="line">网页的结构层（structurallayer）由HTML 或XHTML 之类的标记语言负责创建。标签，也就是那些出现在尖括号里的单词，对网页内容的语义含义做出了描述，但这些标签不包含任何关于如何显示有关内容的信息。例如，P标签表达了这样一种语义：”这是一个文本段。”</div><div class="line">网页的表示层（presentationlayer）由CSS 负责创建。CSS 对”如何显示有关内容”的问题做出了回答。</div><div class="line">网页的行为层（behaviorlayer）负责回答”内容应该如何对事件做出反应”这一问题。这是Javascript 语言和DOM 主宰的领域。</div><div class="line">6. css的基本语句构成是？</div><div class="line">选择器&#123;属性1:值1;属性2:值2;……&#125;</div><div class="line">7. 你做的页面在哪些流览器测试过？这些浏览器的内核分别是什么?经常遇到的浏览器的兼容性有哪些？怎么会出现？解决方法是什么？</div><div class="line">IE内核浏览器：360，傲游，搜狗，世界之窗，腾讯TT</div><div class="line">非IE内核浏览器：firefoxopera safari chrome</div><div class="line">8. 如何居中一个浮动元素?</div><div class="line">设置容器的浮动方式为相对定位，然后确定容器的宽高，比如宽500 高 300 的层，然后设置层的外边距。</div><div class="line">div&#123;Width:500px;height:300px;Margin: -150px 0 0-250px;position:relative;left:50%;top:50%;&#125;</div><div class="line">9. 有没有关注Html5和CSS3?如有请简单说一些您对它们的了解情况！</div><div class="line">HTML5标签的改变：&lt;header&gt;,&lt;footer&gt;, &lt;dialog&gt;, &lt;aside&gt;, &lt;figure&gt;, &lt;section&gt;等</div><div class="line">IE9以上开始支持</div><div class="line">CSS3实现圆角，阴影，对文字加特效，增加了更多的CSS选择器。</div><div class="line">10. 如果让你来制作一个访问量很高的大型网站，你会如何来管理所有CSS文件、JS与图片？</div><div class="line">11. 你对前端界面工程师这个职位是怎么样理解的？它的前景会怎么样？</div><div class="line">以下为Web前端开发笔试题集锦之Javascript篇，移步HTML/CSS篇</div><div class="line">1, 判断字符串是否是这样组成的，第一个必须是字母，后面可以是字母、数字、下划线，总长度为5-20</div><div class="line">var reg = /^[a-zA-Z][a-zA-Z_0-9]&#123;4,19&#125;$/;</div><div class="line">reg.test(“a1a__a1a__a1a__a1a__”);</div><div class="line">2，截取字符串abcdefg的efg</div><div class="line">var str = “abcdefg”;</div><div class="line">if (/efg/.test(str)) &#123;</div><div class="line">var efg = str.substr(str.indexOf(“efg”), 3);</div><div class="line">alert(efg);</div><div class="line">&#125;</div><div class="line">3，判断一个字符串中出现次数最多的字符，统计这个次数</div><div class="line">//将字符串的字符保存在一个hash table中，key是字符，value是这个字符出现的次数</div><div class="line">var str = “abcdefgaddda”;</div><div class="line">var obj = &#123;&#125;;</div><div class="line">for (var i = 0, l = str.length; i &amp;lt; l; i++) &#123;</div><div class="line">var key = str[i];</div><div class="line">if (!obj[key]) &#123;</div><div class="line">obj[key] = 1;</div><div class="line">&#125; else &#123;</div><div class="line">obj[key]++;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">/*遍历这个hash table，获取value最大的key和value*/</div><div class="line">var max = -1;</div><div class="line">var max_key = “”;</div><div class="line">var key;</div><div class="line">for (key in obj) &#123;</div><div class="line">if (max &lt; obj[key]) &#123;</div><div class="line">max = obj[key];</div><div class="line">max_key = key;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">alert(“max:”+max+” max_key:”+max_key);</div><div class="line">4，IE与FF脚本兼容性问题</div><div class="line">(1) window.event：</div><div class="line">表示当前的事件对象，IE有这个对象，FF没有，FF通过给事件处理函数传递事件对象</div><div class="line">(2) 获取事件源</div><div class="line">IE用srcElement获取事件源，而FF用target获取事件源</div><div class="line">(3) 添加，去除事件</div><div class="line">IE：element.attachEvent(“onclick”, function) element.detachEvent(“onclick”, function)</div><div class="line">FF：element.addEventListener(“click”, function, true) element.removeEventListener(“click”, function, true)</div><div class="line">(4) 获取标签的自定义属性</div><div class="line">IE：div1.value或div1["value"]</div><div class="line">FF：可用div1.getAttribute(“value”)</div><div class="line">(5) document.getElementByName()和document.all[name]</div><div class="line">IE；document.getElementByName()和document.all[name]均不能获取div元素</div><div class="line">FF：可以</div><div class="line">(6) input.type的属性</div><div class="line">IE：input.type只读</div><div class="line">FF：input.type可读写</div><div class="line">(7) innerText textContent outerHTML</div><div class="line">IE：支持innerText, outerHTML</div><div class="line">FF：支持textContent</div><div class="line">(8) 是否可用id代替HTML元素</div><div class="line">IE：可以用id来代替HTML元素</div><div class="line">FF：不可以</div><div class="line">这里只列出了常见的，还有不少，更多的介绍可以参看JavaScript在IE浏览器和Firefox浏览器中的差异总结</div><div class="line">5，规避javascript多人开发函数重名问题</div><div class="line">(1) 可以开发前规定命名规范，根据不同开发人员开发的功能在函数前加前缀</div><div class="line">(2) 将每个开发人员的函数封装到类中，调用的时候就调用类的函数，即使函数重名只要类名不重复就ok</div><div class="line">6，javascript面向对象中继承实现</div><div class="line">javascript面向对象中的继承实现一般都使用到了构造函数和Prototype原型链，简单的代码如下：</div><div class="line">function Animal(name) &#123;</div><div class="line">this.name = name;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">Animal.prototype.getName = function() &#123;alert(this.name)&#125;</div><div class="line">function Dog() &#123;&#125;;</div><div class="line">Dog.prototype = new Animal(“Buddy”);</div><div class="line">Dog.prototype.constructor = Dog;</div><div class="line">var dog = new Dog();</div><div class="line">7，FF下面实现outerHTML</div><div class="line">FF不支持outerHTML，要实现outerHTML还需要特殊处理</div><div class="line">思路如下：</div><div class="line">在页面中添加一个新的元素A，克隆一份需要获取outerHTML的元素，将这个元素append到新的A中，然后获取A的innerHTML就可以了。</div><div class="line">&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd”&gt;</div><div class="line">&lt;html xmlns=”http://www.w3.org/1999/xhtml”&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=”Content-Type” content=”text/html; charset=gb2312″ /&gt;</div><div class="line">&lt;title&gt;获取outerHMTL&lt;/title&gt;</div><div class="line">&lt;style&gt;</div><div class="line">div&#123; background:#0000FF;width:100px;height:100px;&#125;</div><div class="line">span&#123; background:#00FF00;width:100px;height:100px;&#125;</div><div class="line">p&#123; background:#FF0000;width:100px;height:100px;&#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=”a”&gt;&lt;span&gt;SPAN&lt;/span&gt;DIV&lt;/div&gt;</div><div class="line">&lt;span&gt;SPAN&lt;/span&gt;</div><div class="line">&lt;p&gt;P&lt;/p&gt;</div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">function getOuterHTML(id)&#123;</div><div class="line">var el = document.getElementById(id);</div><div class="line">var newNode = document.createElement(“div”);</div><div class="line">document.appendChild(newNode);</div><div class="line">var clone = el.cloneNode(true);</div><div class="line">newNode.appendChild(clone);</div><div class="line">alert(newNode.innerHTML);</div><div class="line">document.removeChild(newNode);</div><div class="line">&#125;</div><div class="line">getOuterHTML(“a”);</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">8，编写一个方法求一个字符串的字节长度</div><div class="line">假设：</div><div class="line">一个英文字符占用一个字节，一个中文字符占用两个字节</div><div class="line">function GetBytes(str)&#123;</div><div class="line">var len = str.length;</div><div class="line">var bytes = len;</div><div class="line">for(var i=0; i&lt;len; i++)&#123;</div><div class="line">if (str.charCodeAt(i) &gt; 255) bytes++;</div><div class="line">&#125;</div><div class="line">return bytes;</div><div class="line">&#125;</div><div class="line">alert(GetBytes(“你好,as”));</div><div class="line">9，编写一个方法去掉一个数组的重复元素</div><div class="line">var arr = [1 ,1 ,2, 3, 3, 2, 1];</div><div class="line">Array.prototype.unique = function()&#123;</div><div class="line">var ret = [];</div><div class="line">var o = &#123;&#125;;</div><div class="line">var len = this.length;</div><div class="line">for (var i=0; i&lt;len; i++)&#123;</div><div class="line">var v = this[i];</div><div class="line">if (!o[v])&#123;</div><div class="line">o[v] = 1;</div><div class="line">ret.push(v);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">return ret;</div><div class="line">&#125;;</div><div class="line">alert(arr.unique());</div><div class="line">10，写出3个使用this的典型应用</div><div class="line">（1）在html元素事件属性中使用，如</div><div class="line">&lt;input type=”button” onclick=”showInfo(this);” value=”点击一下”/&gt;</div><div class="line">（2）构造函数</div><div class="line">function Animal(name, color) &#123;</div><div class="line">this.name = name;</div><div class="line">this.color = color;</div><div class="line">&#125;</div><div class="line">（3）</div><div class="line">&lt;input type=”button” id=”text” value=”点击一下” /&gt;</div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">var btn = document.getElementById(“text”);</div><div class="line">btn.onclick = function() &#123;</div><div class="line">alert(this.value); //此处的this是按钮元素</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">（4）CSS expression表达式中使用this关键字</div><div class="line">&lt;table width=”100px” height=”100px”&gt;</div><div class="line">&lt;tr&gt;</div><div class="line">&lt;td&gt;</div><div class="line">&lt;div style=”width:expression(this.parentNode.width);”&gt;div element&lt;/div&gt;</div><div class="line">&lt;/td&gt;</div><div class="line">&lt;/tr&gt;</div><div class="line">&lt;/table&gt;</div><div class="line">12，如何显示/隐藏一个DOM元素？</div><div class="line">el.style.display = “”;</div><div class="line">el.style.display = “none”;</div><div class="line">el是要操作的DOM元素</div><div class="line">13，JavaScript中如何检测一个变量是一个String类型？请写出函数实现</div><div class="line">String类型有两种生成方式：</div><div class="line">(1)Var str = “hello world”;</div><div class="line">(2)Var str2 = new String(“hello world”);</div><div class="line">function IsString(str)&#123;</div><div class="line">return (typeof str == “string” || str.constructor == String);</div><div class="line">&#125;</div><div class="line">var str = “”;</div><div class="line">alert(IsString(1));</div><div class="line">alert(IsString(str));</div><div class="line">alert(IsString(new String(str)));</div><div class="line">14，网页中实现一个计算当年还剩多少时间的倒数计时程序，要求网页上实时动态显示”××年还剩××天××时××分××秒”</div><div class="line">&lt;!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.01 Transitional//EN” “http://www.w3.org/TR/html4/loose.dtd”&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=”Content-Type” content=”text/html; charset=UTF-8″&gt;</div><div class="line">&lt;title&gt;倒计时&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;input type=”text” value=”” id=”input” size=”1000″/&gt;</div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">function counter() &#123;</div><div class="line">var date = new Date();</div><div class="line">var year = date.getFullYear();</div><div class="line">var date2 = new Date(year, 12, 31, 23, 59, 59);</div><div class="line">var time = (date2 – date)/1000;</div><div class="line">var day =Math.floor(time/(24*60*60))</div><div class="line">var hour = Math.floor(time%(24*60*60)/(60*60))</div><div class="line">var minute = Math.floor(time%(24*60*60)%(60*60)/60);</div><div class="line">var second = Math.floor(time%(24*60*60)%(60*60)%60);</div><div class="line">var str = year + “年还剩”+day+”天”+hour+”时”+minute+”分”+second+”秒”;</div><div class="line">document.getElementById(“input”).value = str;</div><div class="line">&#125;</div><div class="line">window.setInterval(“counter()”, 1000);</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">15，补充代码，鼠标单击Button1后将Button1移动到Button2的后面&lt;div&gt;&lt;input type=”button” id =”button1″ value=”1″ onclick=”???”&gt;&lt;input type=”button” id =”button2″ value=”2″ /”&gt;&lt;/div&gt;</div><div class="line">&lt;div&gt;</div><div class="line">&lt;input type=”button” id =”button1″ value=”1″ onclick=”moveBtn(this);”&gt;</div><div class="line">&lt;input type=”button” id =”button2″ value=”2″ /&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">function moveBtn(obj) &#123;</div><div class="line">var clone = obj.cloneNode(true);</div><div class="line">var parent = obj.parentNode;</div><div class="line">parent.appendChild(clone);</div><div class="line">parent.removeChild(obj);</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line">16，JavaScript有哪几种数据类型</div><div class="line">简单：Number，Boolean，String，Null，Undefined</div><div class="line">复合：Object，Array，Function</div><div class="line">17，下面css标签在JavaScript中调用应如何拼写，border-left-color，-moz-viewport</div><div class="line">borderLeftColor</div><div class="line">mozViewport</div><div class="line">18，JavaScript中如何对一个对象进行深度clone</div><div class="line">function cloneObject(o) &#123;</div><div class="line">if(!o || ‘object’ !== typeof o) &#123;</div><div class="line">return o;</div><div class="line">&#125;</div><div class="line">var c = ‘function’ === typeof o.pop ? [] : &#123;&#125;;</div><div class="line">var p, v;</div><div class="line">for(p in o) &#123;</div><div class="line">if(o.hasOwnProperty(p)) &#123;</div><div class="line">v = o[p];</div><div class="line">if(v &amp;&amp; ‘object’ === typeof v) &#123;</div><div class="line">c[p] = Ext.ux.clone(v);</div><div class="line">&#125;</div><div class="line">else &#123;</div><div class="line">c[p] = v;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">return c;</div><div class="line">&#125;;</div><div class="line">19，如何控制alert中的换行</div><div class="line">\n alert(“p\np”);</div><div class="line">20，请实现，鼠标点击页面中的任意标签，alert该标签的名称．（注意兼容性）</div><div class="line">&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd”&gt;</div><div class="line">&lt;html xmlns=”http://www.w3.org/1999/xhtml”&gt;</div><div class="line">&lt;head&gt;</div><div class="line">&lt;meta http-equiv=”Content-Type” content=”text/html; charset=gb2312″ /&gt;</div><div class="line">&lt;title&gt;鼠标点击页面中的任意标签，alert该标签的名称&lt;/title&gt;</div><div class="line">&lt;style&gt;</div><div class="line">div&#123; background:#0000FF;width:100px;height:100px;&#125;</div><div class="line">span&#123; background:#00FF00;width:100px;height:100px;&#125;</div><div class="line">p&#123; background:#FF0000;width:100px;height:100px;&#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">document.onclick = function(evt)&#123;</div><div class="line">var e = window.event || evt;</div><div class="line">var tag = e["target"] || e["srcElement"];</div><div class="line">alert(tag.tagName);</div><div class="line">&#125;;</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=”div”&gt;&lt;span&gt;SPAN&lt;/span&gt;DIV&lt;/div&gt;</div><div class="line">&lt;span&gt;SPAN&lt;/span&gt;</div><div class="line">&lt;p&gt;P&lt;/p&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">21，请编写一个JavaScript函数 parseQueryString，它的用途是把URL参数解析为一个对象，如：</div><div class="line">var url = “http://witmax.cn/index.php?key0=0&amp;key1=1&amp;key2=2″;</div><div class="line"> </div><div class="line">function parseQueryString(url)&#123;</div><div class="line">var params = &#123;&#125;;</div><div class="line">var arr = url.split(“?”);</div><div class="line">if (arr.length &lt;= 1)</div><div class="line">return params;</div><div class="line">arr = arr[1].split(“&amp;”);</div><div class="line">for(var i=0, l=arr.length; i&lt;l; i++)&#123;</div><div class="line">var a = arr[i].split(“=”);</div><div class="line">params[a[0]] = a[1];</div><div class="line">&#125;</div><div class="line">return params;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">var url = “http://witmax.cn/index.php?key0=0&amp;key1=1&amp;key2=2″;</div><div class="line">var ps = parseQueryString(url);</div><div class="line">alert(ps["key1"]);</div><div class="line">22，ajax是什么? ajax的交互模型? 同步和异步的区别? 如何解决跨域问题?</div><div class="line">Ajax是多种技术组合起来的一种浏览器和服务器交互技术，基本思想是允许一个互联网浏览器向一个远程页面/服务做异步的http调用，并且用收到的数据来更新一个当前web页面而不必刷新整个页面。该技术能够改进客户端的体验。包含的技术：</div><div class="line">XHTML：对应W3C的XHTML规范，目前是XHTML1.0。</div><div class="line">CSS：对应W3C的CSS规范，目前是CSS2.0</div><div class="line">DOM：这里的DOM主要是指HTML DOM，XML DOM包括在下面的XML中</div><div class="line">JavaScript：对应于ECMA的ECMAScript规范</div><div class="line">XML：对应W3C的XML DOM、XSLT、XPath等等规范</div><div class="line">XMLHttpRequest：对应WhatWG的Web Applications1.0规范（http://whatwg.org/specs/web-apps/current-work/）</div><div class="line">AJAX交互模型</div><div class="line"> </div><div class="line">同步：脚本会停留并等待服务器发送回复然后再继续</div><div class="line">异步：脚本允许页面继续其进程并处理可能的回复</div><div class="line">跨域问题简单的理解就是因为JS同源策略的限制，a.com域名下的JS无法操作b.com或c.a.com下的对象，具体场景如下：</div><div class="line"> </div><div class="line">PS：（1）如果是端口或者协议造成的跨域问题前端是无能为力的</div><div class="line">(2) 在跨域问题上，域仅仅通过URL的首部来识别而不会尝试判断相同的IP地址对应的域或者两个域是否对应一个IP</div><div class="line">前端对于跨域的解决办法：</div><div class="line">(1) document.domain+iframe</div><div class="line">(2) 动态创建script标签</div><div class="line">23，什么是闭包？下面这个ul，如何点击每一列的时候alert其index?</div><div class="line">&lt;ul id=”test”&gt;</div><div class="line">&lt;li&gt;这是第一条&lt;/li&gt;</div><div class="line">&lt;li&gt;这是第二条&lt;/li&gt;</div><div class="line">&lt;li&gt;这是第三条&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">内部函数被定义它的函数的外部区域调用的时候就产生了闭包。</div><div class="line">(function A() &#123;</div><div class="line">var index = 0;</div><div class="line">var ul = document.getElementById(“test”);</div><div class="line">var obj = &#123;&#125;;</div><div class="line">for (var i = 0, l = ul.childNodes.length; i &lt; l; i++) &#123;</div><div class="line">if (ul.childNodes[i].nodeName.toLowerCase() == “li”) &#123;</div><div class="line">var li = ul.childNodes[i];</div><div class="line">li.onclick = function() &#123;</div><div class="line">index++;</div><div class="line">alert(index);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;)();</div><div class="line">24，请给出异步加载js方案，不少于两种</div><div class="line">默认情况javascript是同步加载的，也就是javascript的加载时阻塞的，后面的元素要等待javascript加载完毕后才能进行再加载，对于一些意义不是很大的javascript，如果放在页头会导致加载很慢的话，是会严重影响用户体验的。</div><div class="line">异步加载方式：</div><div class="line">(1) defer，只支持IE</div><div class="line">(2) async：</div><div class="line">(3) 创建script，插入到DOM中，加载完毕后callBack，见代码：</div><div class="line">function loadScript(url, callback)&#123;</div><div class="line">var script = document.createElement(“script”)</div><div class="line">script.type = “text/javascript”;</div><div class="line">if (script.readyState)&#123; //IE</div><div class="line">script.onreadystatechange = function()&#123;</div><div class="line">if (script.readyState == “loaded” ||</div><div class="line">script.readyState == “complete”)&#123;</div><div class="line">script.onreadystatechange = null;</div><div class="line">callback();</div><div class="line">&#125;</div><div class="line">&#125;;</div><div class="line">&#125; else &#123; //Others: Firefox, Safari, Chrome, and Opera</div><div class="line">script.onload = function()&#123;</div><div class="line">callback();</div><div class="line">&#125;;</div><div class="line">&#125;</div><div class="line">script.src = url;</div><div class="line">document.body.appendChild(script);</div><div class="line">&#125;</div><div class="line">25，请设计一套方案，用于确保页面中JS加载完全。</div><div class="line">var n = document.createElement(“script”);</div><div class="line">n.type = “text/javascript”;</div><div class="line">//以上省略部分代码</div><div class="line">//ie支持script的readystatechange属性(IE support the readystatechange event for script and css nodes)</div><div class="line">if(ua.ie)&#123;</div><div class="line">n.onreadystatechange = function()&#123;</div><div class="line">var rs = this.readyState;</div><div class="line">if(‘loaded’ === rs || ‘complete’===rs)&#123;</div><div class="line">n.onreadystatechange = null;</div><div class="line">f(id,url); //回调函数</div><div class="line">&#125;</div><div class="line">&#125;;</div><div class="line">//省略部分代码</div><div class="line">//safari 3.x supports the load event for script nodes(DOM2)</div><div class="line">n.addEventListener(‘load’,function()&#123;</div><div class="line">f(id,url);</div><div class="line">&#125;);</div><div class="line">//firefox and opera support onload(but not dom2 in ff) handlers for</div><div class="line">//script nodes.opera, but no ff, support the onload event for link</div><div class="line">//nodes.</div><div class="line">&#125;else&#123;</div><div class="line">n.onload = function()&#123;</div><div class="line">f(id,url);</div><div class="line">&#125;;</div><div class="line">&#125;</div><div class="line">26，js中如何定义class,如何扩展prototype?</div><div class="line">Ele.className = “***”; //***在css中定义，形式如下：.*** &#123;…&#125;</div><div class="line">A.prototype.B = C;</div><div class="line">A是某个构造函数的名字</div><div class="line">B是这个构造函数的属性</div><div class="line">C是想要定义的属性的值</div><div class="line">27，如何添加html元素的事件,有几种方法.</div><div class="line">（1）为HTML元素的事件属性赋值</div><div class="line">（2）在JS中使用ele.on*** = function() &#123;…&#125;</div><div class="line">（3）使用DOM2的添加事件的方法 addEventListener或attachEvent</div><div class="line">28，documen.write和 innerHTML的区别</div><div class="line">document.write只能重绘整个页面</div><div class="line">innerHTML可以重绘页面的一部分</div><div class="line">29，多浏览器检测通过什么？</div><div class="line">（1） navigator.userAgent</div><div class="line">（2）不同浏览器的特性，如addEventListener</div><div class="line">30，js的基础对象有那些, window和document的常用的方法和属性列出来</div><div class="line">String,Number,Boolean</div><div class="line">Window:</div><div class="line">方法：setInterval,setTimeout,clearInterval,clearTimeout,alert,confirm,open</div><div class="line">属性：name,parent,screenLeft,screenTop,self,top,status</div><div class="line">Document</div><div class="line">方法：createElement,execCommand,getElementById,getElementsByName,getElementByTagName,write,writeln</div><div class="line">属性：cookie,doctype,domain,documentElement,readyState,URL,</div><div class="line">31，前端开发的优化问题</div><div class="line">（1）减少http请求次数：css spirit,data uri</div><div class="line">（2） JS，CSS源码压缩</div><div class="line">（3）前端模板 JS+数据，减少由于HTML标签导致的带宽浪费，前端用变量保存AJAX请求结果，每次操作本地变量，不用请求，减少请求次数</div><div class="line">（4）用innerHTML代替DOM操作，减少DOM操作次数，优化javascript性能</div><div class="line">（5）用setTimeout来避免页面失去响应</div><div class="line">（6）用hash-table来优化查找</div><div class="line">（7）当需要设置的样式很多时设置className而不是直接操作style</div><div class="line">（8）少用全局变量</div><div class="line">（9）缓存DOM节点查找的结果</div><div class="line">（10）避免使用CSS Expression</div><div class="line">（11）图片预载</div><div class="line">（12）避免在页面的主体布局中使用table，table要等其中的内容完全下载之后才会显示出来，显示比div+css布局慢</div><div class="line">32，如何控制网页在网络传输过程中的数据量</div><div class="line">启用GZIP压缩</div><div class="line">保持良好的编程习惯，避免重复的CSS，JavaScript代码，多余的HTML标签和属性</div><div class="line">33，Flash、Ajax各自的优缺点，在使用中如何取舍？</div><div class="line">Ajax的优势</div><div class="line">（1）可搜索型</div><div class="line">（2）开放性</div><div class="line">（3）费用</div><div class="line">（4）易用性</div><div class="line">（5）易于开发</div><div class="line">Flash的优势</div><div class="line">（1）多媒体处理</div><div class="line">（2）兼容性</div><div class="line">（3）矢量图形比SVG，Canvas优势大很多</div><div class="line">（4）客户端资源调度，比如麦克风，摄像头</div><div class="line"> </div><div class="line"> </div><div class="line">4用脚本写去除字符串的前后空格</div><div class="line"> </div><div class="line">String.prototype.trim = function(mode)</div><div class="line">&#123;//前后去空格</div><div class="line">if (mode==’left’) &#123;</div><div class="line">return ((this.charAt(0) == ” ” &amp;&amp; this.length &gt; 0) ? this.slice(1).trim(‘left’) : this);</div><div class="line">&#125; else</div><div class="line">if (mode == ‘right’) &#123;</div><div class="line">return ((this.charAt(this.length – 1) == ” ” &amp;&amp; this.length &gt; 0) ? this.slice(0, this.length – 1).trim(‘right’) : this);</div><div class="line">&#125; else &#123;</div><div class="line">return this.trim(‘left’).trim(‘right’);</div><div class="line">&#125;</div><div class="line">&#125;;</div><div class="line">5算出字符串中出现次数最多的字符是什么，出现了多少次</div><div class="line"> </div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line">//&lt;![CDATA[var str ="adadfdfseffserfefsefseeffffftsdg"; //命名一个变量放置给出的字符串</div><div class="line">var maxLength = 0; //命名一个变量放置字母出现的最高次数并初始化为0</div><div class="line">var result = ''; //命名一个变量放置结果输入</div><div class="line">while( str != '' )&#123; //循环迭代开始，并判断字符串是否为空</div><div class="line">oldStr = str; //将原始的字符串变量赋值给新变量</div><div class="line">getStr = str.substr(0,1); //用字符串的substr的方法得到第一个字符（首字母）</div><div class="line">eval("str = str.replace(/"+getStr+"/g,'')"); //详细如补充</div><div class="line">if( oldStr.length-str.length &gt; maxLength )</div><div class="line">&#123; //判断原始的字符串的长度减去替代后字符串长度是否大于之前出现的最大的字符串长度</div><div class="line">maxLength = oldStr.length-str.length; //两字符串长度相减得到最大的字符串长度</div><div class="line">result = getStr + "=" + maxLength //返回最大的字符串结果（字母、出现次数）</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">alert(result) //弹出结果</div><div class="line">//]]&gt;</div><div class="line">&lt;/script&gt;</div><div class="line">6写出3中使用this的典型应用</div><div class="line">在HTML元素事件属性中inline方式使用this关键字：</div><div class="line">7.最后一个问题是，如何制作一个combo选项，就是可以输入可以下拉菜单选择。</div><div class="line">这个网上有很多成品，主要是通过绝对定位和相对定位结合的方式，改造原有的select 标签和input标签的方法。</div><div class="line"> </div><div class="line">附上javascript正则表达式的基本知识：</div><div class="line">g: 全局匹配</div><div class="line">i: 忽略大小写</div><div class="line">^ 匹配一个输入或一行的开头，/^a/匹配”an A”，而不匹配”An a”</div><div class="line">$ 匹配一个输入或一行的结尾，/a$/匹配”An a”，而不匹配”an A”</div><div class="line">* 匹配前面元字符0次或多次，/ba*/将匹配b,ba,baa,baaa</div><div class="line">+ 匹配前面元字符1次或多次，/ba*/将匹配ba,baa,baaa</div><div class="line">? 匹配前面元字符0次或1次，/ba*/将匹配b,ba</div><div class="line">(x) 匹配x保存x在名为$1…$9的变量中</div><div class="line">x|y 匹配x或y</div><div class="line">&#123;n&#125; 精确匹配n次</div><div class="line">&#123;n,&#125; 匹配n次以上</div><div class="line">&#123;n,m&#125; 匹配n-m次</div><div class="line">[xyz] 字符集(character set)，匹配这个集合中的任一一个字符(或元字符)</div><div class="line">[^xyz] 不匹配这个集合中的任何一个字符</div><div class="line">[b] 匹配一个退格符</div><div class="line">b 匹配一个单词的边界</div><div class="line">B 匹配一个单词的非边界</div><div class="line">cX 这儿，X是一个控制符，/cM/匹配Ctrl-M</div><div class="line">d 匹配一个字数字符，/d/ = /[0-9]/</div><div class="line">D 匹配一个非字数字符，/D/ = /[^0-9]/</div><div class="line">n 匹配一个换行符</div><div class="line">r 匹配一个回车符</div><div class="line">s 匹配一个空白字符，包括n,r,f,t,v等</div><div class="line">S 匹配一个非空白字符，等于/[^nfrtv]/</div><div class="line">t 匹配一个制表符</div><div class="line">v 匹配一个重直制表符</div><div class="line">w 匹配一个可以组成单词的字符(alphanumeric，这是我的意译，含数字)，包括下划线，如[w]匹配”$5.98″中的5，等于[a-zA-Z0-9]</div><div class="line">W 匹配一个不可以组成单词的字符，如[W]匹配”$5.98″中的$，等于[^a-zA-Z0-9</div><div class="line">举例：验证email</div><div class="line">var myReg = /^[_a-z0-9]+@([_a-z0-9]+.)+[a-z0-9]&#123;2,3&#125;$/;</div><div class="line">if(myReg.test(strEmail)) return true;</div><div class="line">Date 对象属性</div><div class="line">FF: Firefox, IE: Internet Explorer</div><div class="line"> </div><div class="line">属性描述 FF IE</div><div class="line">constructor 返回对创建此对象的 Date 函数的引用。 1 4</div><div class="line">prototype 使您有能力向对象添加属性和方法。 1 4</div><div class="line">Date 对象方法</div><div class="line">FF: Firefox, IE: Internet Explorer</div><div class="line"> </div><div class="line">方法描述 FF IE</div><div class="line">Date() 返回当日的日期和时间。 1 3</div><div class="line">getDate() 从 Date 对象返回一个月中的某一天 (1 ~ 31)。 1 3</div><div class="line">getDay() 从 Date 对象返回一周中的某一天 (0 ~ 6)。 1 3</div><div class="line">getMonth() 从 Date 对象返回月份 (0 ~ 11)。 1 3</div><div class="line">getFullYear() 从 Date 对象以四位数字返回年份。 1 4</div><div class="line">getYear() 请使用 getFullYear() 方法代替。 1 3</div><div class="line">getHours() 返回 Date 对象的小时 (0 ~ 23)。 1 3</div><div class="line">getMinutes() 返回 Date 对象的分钟 (0 ~ 59)。 1 3</div><div class="line">getSeconds() 返回 Date 对象的秒数 (0 ~ 59)。 1 3</div><div class="line">getMilliseconds() 返回 Date 对象的毫秒(0 ~ 999)。 1 4</div><div class="line">getTime() 返回 1970 年 1 月 1 日至今的毫秒数。 1 3</div><div class="line">getTimezoneOffset() 返回本地时间与格林威治标准时间 (GMT) 的分钟差。 1 3</div><div class="line">getUTCDate() 根据世界时从 Date 对象返回月中的一天 (1 ~ 31)。 1 4</div><div class="line">getUTCDay() 根据世界时从 Date 对象返回周中的一天 (0 ~ 6)。 1 4</div><div class="line">getUTCMonth() 根据世界时从 Date 对象返回月份 (0 ~ 11)。 1 4</div><div class="line">getUTCFullYear() 根据世界时从 Date 对象返回四位数的年份。 1 4</div><div class="line">getUTCHours() 根据世界时返回 Date 对象的小时 (0 ~ 23)。 1 4</div><div class="line">getUTCMinutes() 根据世界时返回 Date 对象的分钟 (0 ~ 59)。 1 4</div><div class="line">getUTCSeconds() 根据世界时返回 Date 对象的秒钟 (0 ~ 59)。 1 4</div><div class="line">getUTCMilliseconds() 根据世界时返回 Date 对象的毫秒(0 ~ 999)。 1 4</div><div class="line">parse() 返回1970年1月1日午夜到指定日期（字符串）的毫秒数。 1 3</div><div class="line">setDate() 设置 Date 对象中月的某一天 (1 ~ 31)。 1 3</div><div class="line">setMonth() 设置 Date 对象中月份 (0 ~ 11)。 1 3</div><div class="line">setFullYear() 设置 Date 对象中的年份（四位数字）。 1 4</div><div class="line">setYear() 请使用 setFullYear() 方法代替。 1 3</div><div class="line">setHours() 设置 Date 对象中的小时 (0 ~ 23)。 1 3</div><div class="line">setMinutes() 设置 Date 对象中的分钟 (0 ~ 59)。 1 3</div><div class="line">setSeconds() 设置 Date 对象中的秒钟 (0 ~ 59)。 1 3</div><div class="line">setMilliseconds() 设置 Date 对象中的毫秒 (0 ~ 999)。 1 4</div><div class="line">setTime() 以毫秒设置 Date 对象。 1 3</div><div class="line">setUTCDate() 根据世界时设置 Date 对象中月份的一天 (1 ~ 31)。 1 4</div><div class="line">setUTCMonth() 根据世界时设置 Date 对象中的月份 (0 ~ 11)。 1 4</div><div class="line">setUTCFullYear() 根据世界时设置 Date 对象中的年份（四位数字）。 1 4</div><div class="line">setUTCHours() 根据世界时设置 Date 对象中的小时 (0 ~ 23)。 1 4</div><div class="line">setUTCMinutes() 根据世界时设置 Date 对象中的分钟 (0 ~ 59)。 1 4</div><div class="line">setUTCSeconds() 根据世界时设置 Date 对象中的秒钟 (0 ~ 59)。 1 4</div><div class="line">setUTCMilliseconds() 根据世界时设置 Date 对象中的毫秒 (0 ~ 999)。 1 4</div><div class="line">toSource() 返回该对象的源代码。 1 –</div><div class="line">toString() 把 Date 对象转换为字符串。 1 4</div><div class="line">toTimeString() 把 Date 对象的时间部分转换为字符串。 1 4</div><div class="line">toDateString() 把 Date 对象的日期部分转换为字符串。 1 4</div><div class="line">toGMTString() 请使用 toUTCString() 方法代替。 1 3</div><div class="line">toUTCString() 根据世界时，把 Date 对象转换为字符串。 1 4</div><div class="line">toLocaleString() 根据本地时间格式，把 Date 对象转换为字符串。 1 3</div><div class="line">toLocaleTimeString() 根据本地时间格式，把 Date 对象的时间部分转换为字符串。 1 3</div><div class="line">toLocaleDateString() 根据本地时间格式，把 Date 对象的日期部分转换为字符串。 1 3</div><div class="line">UTC() 根据世界时返回 1997 年 1 月 1 日到指定日期的毫秒数。 1 3</div><div class="line">valueOf() 返回 Date 对象的原始值。 1 4</div><div class="line">Array 对象属性</div><div class="line">FF: Firefox, IE: Internet Explorer</div><div class="line">属性</div><div class="line">描述</div><div class="line">FF </div><div class="line">IE </div><div class="line">constructor</div><div class="line">返回对创建此对象的数组函数的引用。</div><div class="line">1 </div><div class="line">4 </div><div class="line">index </div><div class="line">  </div><div class="line">1 </div><div class="line">4 </div><div class="line">input </div><div class="line">  </div><div class="line">1 </div><div class="line">4 </div><div class="line">length</div><div class="line">设置或返回数组中元素的数目。</div><div class="line">1 </div><div class="line">4 </div><div class="line">prototype</div><div class="line">使您有能力向对象添加属性和方法。</div><div class="line">1 </div><div class="line">4 </div><div class="line">Array 对象方法</div><div class="line">FF: Firefox, IE: Internet Explorer</div><div class="line">方法</div><div class="line">描述</div><div class="line">FF </div><div class="line">IE </div><div class="line">concat()</div><div class="line">连接两个或更多的数组，并返回结果。</div><div class="line">1 </div><div class="line">4 </div><div class="line">join()</div><div class="line">把数组的所有元素放入一个字符串。元素通过指定的分隔符进行分隔。</div><div class="line">1 </div><div class="line">4 </div><div class="line">pop()</div><div class="line">删除并返回数组的最后一个元素</div><div class="line">1 </div><div class="line">5.5 </div><div class="line">push()</div><div class="line">向数组的末尾添加一个或更多元素，并返回新的长度。</div><div class="line">1 </div><div class="line">5.5 </div><div class="line">reverse()</div><div class="line">颠倒数组中元素的顺序。</div><div class="line">1</div><div class="line">4 </div><div class="line">shift()</div><div class="line">删除并返回数组的第一个元素</div><div class="line">1 </div><div class="line">5.5 </div><div class="line">slice()</div><div class="line">从某个已有的数组返回选定的元素</div><div class="line">1</div><div class="line">4 </div><div class="line">sort()</div><div class="line">对数组的元素进行排序</div><div class="line">1 </div><div class="line">4 </div><div class="line">splice()</div><div class="line">删除元素，并向数组添加新元素。</div><div class="line">1 </div><div class="line">5.5 </div><div class="line">toSource()</div><div class="line">返回该对象的源代码。</div><div class="line">1 </div><div class="line">- </div><div class="line">toString()</div><div class="line">把数组转换为字符串，并返回结果。</div><div class="line">1 </div><div class="line">4 </div><div class="line">toLocaleString()</div><div class="line">把数组转换为本地数组，并返回结果。</div><div class="line">1 </div><div class="line">4 </div><div class="line">unshift()</div><div class="line">向数组的开头添加一个或更多元素，并返回新的长度。</div><div class="line">1 </div><div class="line">6 </div><div class="line">valueOf()</div><div class="line">返回数组对象的原始值</div><div class="line">   </div><div class="line">jQuery AJAX 请求</div><div class="line">请求</div><div class="line">描述</div><div class="line">$(selector).load(url,data,callback) </div><div class="line">把远程数据加载到被选的元素中</div><div class="line">$.ajax(options)</div><div class="line">把远程数据加载到 XMLHttpRequest 对象中</div><div class="line">$.get(url,data,callback,type) </div><div class="line">使用 HTTP GET 来加载远程数据</div><div class="line">$.post(url,data,callback,type) </div><div class="line">使用 HTTP POST 来加载远程数据</div><div class="line">$.getJSON(url,data,callback) </div><div class="line">使用 HTTP GET 来加载远程 JSON 数据</div><div class="line">$.getScript(url,callback) </div><div class="line">加载并执行远程的 JavaScript 文件</div><div class="line">(selector) jQuery 元素选择器语法</div><div class="line">(url) 被加载的数据的 URL（地址）</div><div class="line">(data) 发送到服务器的数据的键/值对象</div><div class="line">(callback) 当数据被加载时，所执行的函数</div><div class="line">(type) 被返回的数据的类型 (html,xml,json,jasonp,script,text)</div><div class="line">(options) 完整 AJAX 请求的所有键/值对选项</div><div class="line"> </div><div class="line">AJAX – 浏览器支持</div><div class="line">AJAX 的要点是 XMLHttpRequest 对象。</div><div class="line">不同的浏览器创建 XMLHttpRequest 对象的方法是有差异的。</div><div class="line">IE 浏览器使用 ActiveXObject，而其他的浏览器使用名为 XMLHttpRequest 的 JavaScript 内建对象。</div><div class="line">如需针对不同的浏览器来创建此对象，我们要使用一条 “try and catch” 语句。您可以在我们的 JavaScript 教程中阅读更多有关try 和 catch 语句的内容。</div><div class="line">让我们用这段创建 XMLHttpRequest 对象的 JavaScript 来更新一下我们的 “testAjax.htm” 文件：</div><div class="line">&lt;html&gt;</div><div class="line">&lt;body&gt;</div><div class="line"> </div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line"> </div><div class="line">function ajaxFunction()</div><div class="line">&#123;</div><div class="line">var xmlHttp;</div><div class="line"> </div><div class="line">try</div><div class="line">&#123;</div><div class="line">// Firefox, Opera 8.0+, Safari</div><div class="line">xmlHttp=new XMLHttpRequest();</div><div class="line">&#125;</div><div class="line">catch (e)</div><div class="line">&#123;</div><div class="line"> </div><div class="line">// Internet Explorer</div><div class="line">try</div><div class="line">&#123;</div><div class="line">xmlHttp=new ActiveXObject(“Msxml2.XMLHTTP”);</div><div class="line">&#125;</div><div class="line">catch (e)</div><div class="line">&#123;</div><div class="line"> </div><div class="line">try</div><div class="line">&#123;</div><div class="line">xmlHttp=new ActiveXObject(“Microsoft.XMLHTTP”);</div><div class="line">&#125;</div><div class="line">catch (e)</div><div class="line">&#123;</div><div class="line">alert(“您的浏览器不支持AJAX！”);</div><div class="line">return false;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">&lt;form name=”myForm”&gt;</div><div class="line">用户: &lt;input type=”text” name=”username” /&gt;</div><div class="line">时间: &lt;input type=”text” name=”time” /&gt;</div><div class="line">&lt;/form&gt;&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">例子解释：</div><div class="line">首先声明一个保存 XMLHttpRequest 对象的 xmlHttp 变量。</div><div class="line">然后使用 XMLHttp=new XMLHttpRequest() 来创建此对象。这条语句针对 Firefox、Opera 以及 Safari 浏览器。假如失败，则尝试针对 Internet Explorer 6.0+ 的 xmlHttp=new ActiveXObject(“Msxml2.XMLHTTP”)，假如也不成功，则尝试针对 Internet Explorer 5.5+ 的 xmlHttp=new ActiveXObject(“Microsoft.XMLHTTP”)。</div><div class="line">假如这三种方法都不起作用，那么这个用户所使用的浏览器已经太过时了，他或她会看到一个声明此浏览器不支持 AJAX 的提示。</div><div class="line">注释：上面这些浏览器定制的代码很长，也很复杂。不过，每当您希望创建 XMLHttpRequest 对象时，这些代码就能派上用场，因此您可以在任何需要使用的时间拷贝粘贴这些代码。上面这些代码兼容所有的主流浏览器：Internet Explorer、Opera、Firefox 以及 Safari。</div><div class="line">下一节为您展示如何使用 XMLHttpRequest 对象与服务器进行通信。</div><div class="line">AJAX – 更多有关 XMLHttpRequest 对象的知识</div><div class="line">在向服务器发送数据之前，我们有必要解释一下 XMLHttpRequest 对象的三个重要的属性。</div><div class="line">onreadystatechange 属性</div><div class="line">onreadystatechange 属性存有处理服务器响应的函数。下面的代码定义一个空的函数，可同时对 onreadystatechange 属性进行设置：</div><div class="line">xmlHttp.onreadystatechange=function()</div><div class="line">&#123;</div><div class="line">// 我们需要在这里写一些代码</div><div class="line">&#125;</div><div class="line">readyState 属性</div><div class="line">readyState 属性存有服务器响应的状态信息。每当 readyState 改变时，onreadystatechange 函数就会被执行。</div><div class="line">这是 readyState 属性可能的值：</div><div class="line">状态</div><div class="line">描述</div><div class="line">0 </div><div class="line">请求未初始化（在调用 open() 之前）</div><div class="line">1 </div><div class="line">请求已提出（调用 send() 之前）</div><div class="line">2 </div><div class="line">请求已发送（这里通常可以从响应得到内容头部）</div><div class="line">3 </div><div class="line">请求处理中（响应中通常有部分数据可用，但是服务器还没有完成响应）</div><div class="line">4 </div><div class="line">请求已完成（可以访问服务器响应并使用它）</div><div class="line">我们要向这个 onreadystatechange 函数添加一条 If 语句，来测试我们的响应是否已完成（意味着可获得数据）：</div><div class="line">xmlHttp.onreadystatechange=function()</div><div class="line">&#123;</div><div class="line">if(xmlHttp.readyState==4)</div><div class="line">&#123;</div><div class="line">// 从服务器的response获得数据</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">responseText 属性</div><div class="line">可以通过 responseText 属性来取回由服务器返回的数据。</div><div class="line">在我们的代码中，我们将把时间文本框的值设置为等于 responseText：</div><div class="line">xmlHttp.onreadystatechange=function()</div><div class="line">&#123;</div><div class="line">if(xmlHttp.readyState==4)</div><div class="line">&#123;</div><div class="line">document.myForm.time.value=xmlHttp.responseText;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">下一节，我们会介绍如何向服务器请求数据！</div><div class="line">AJAX – 向服务器发送一个请求</div><div class="line">要想把请求发送到服务器，我们就需要使用 open() 方法和 send() 方法。</div><div class="line">open() 方法需要三个参数。第一个参数定义发送请求所使用的方法（GET 还是 POST）。第二个参数规定服务器端脚本的 URL。第三个参数规定应当对请求进行异步地处理。</div><div class="line">send() 方法可将请求送往服务器。如果我们假设 HTML 文件和 ASP 文件位于相同的目录，那么代码是这样的：</div><div class="line">xmlHttp.open(“GET”,”time.asp”,true);</div><div class="line">xmlHttp.send(null);</div><div class="line">现在，我们必须决定何时执行 AJAX 函数。当用户在用户名文本框中键入某些内容时，我们会令函数”在幕后”执行。</div><div class="line">&lt;html&gt;</div><div class="line">&lt;body&gt;</div><div class="line"> </div><div class="line">&lt;script type=”text/javascript”&gt;</div><div class="line"> </div><div class="line">function ajaxFunction()</div><div class="line">&#123;</div><div class="line">var xmlHttp;</div><div class="line"> </div><div class="line">try</div><div class="line">&#123;</div><div class="line">// Firefox, Opera 8.0+, Safari</div><div class="line">xmlHttp=new XMLHttpRequest();</div><div class="line">&#125;</div><div class="line">catch (e)</div><div class="line">&#123;</div><div class="line"> </div><div class="line">// Internet Explorer</div><div class="line">try</div><div class="line">&#123;</div><div class="line">xmlHttp=new ActiveXObject(“Msxml2.XMLHTTP”);</div><div class="line">&#125;</div><div class="line">catch (e)</div><div class="line">&#123;</div><div class="line"> </div><div class="line">try</div><div class="line">&#123;</div><div class="line">xmlHttp=new ActiveXObject(“Microsoft.XMLHTTP”);</div><div class="line">&#125;</div><div class="line">catch (e)</div><div class="line">&#123;</div><div class="line">alert(“您的浏览器不支持AJAX！”);</div><div class="line">return false;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">    </div><div class="line"> </div><div class="line">xmlHttp.onreadystatechange=function()</div><div class="line">&#123;</div><div class="line">if(xmlHttp.readyState==4)</div><div class="line">&#123;</div><div class="line">document.myForm.time.value=xmlHttp.responseText;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">xmlHttp.open(“GET”,”time.asp”,true);</div><div class="line">xmlHttp.send(null);</div><div class="line">    </div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div><div class="line"> </div><div class="line">&lt;form name=”myForm”&gt;</div><div class="line">用户: &lt;input type=”text” name=”username” onkeyup=”ajaxFunction();” /&gt;</div><div class="line">时间: &lt;input type=”text” name=”time” /&gt;</div><div class="line">&lt;/form&gt;</div><div class="line"> </div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">通过微软的 XML 解析器来加载 XML</div><div class="line">微软的 XML 解析器内建于 Internet Explorer 5 以及更高的版本中。</div><div class="line">下面的 JavaScript 片段把一个 XML 文档载入解析器中：</div><div class="line">var xmlDoc=new ActiveXObject(“Microsoft.XMLDOM”);</div><div class="line">xmlDoc.async=”false”;</div><div class="line">xmlDoc.load(“note.xml”);</div><div class="line">例子解释：</div><div class="line">上面代码的第一个行创建一个空的微软 XML 文档对象。</div><div class="line">第二行关闭异步加载，这样确保在文档完全加载之前解析器不会继续脚本的执行。</div><div class="line">第三行告知解析器加载名为 “note.xml” 的 XML 文档。</div><div class="line">下面的 JavaScript 片段把字符串 txt 载入解析器：</div><div class="line">var xmlDoc=new ActiveXObject(“Microsoft.XMLDOM”);</div><div class="line">xmlDoc.async=”false”;</div><div class="line">xmlDoc.loadXML(txt);</div><div class="line">注释：loadXML()方法用于加载字符串（文本），load() 用于加载文件。</div><div class="line">在 Firefox 及其他浏览器中的 XML 解析器</div><div class="line">下面的 JavaScript 片段把 XML 文档 (“note.xml”) 载入解析器：</div><div class="line">var xmlDoc=document.implementation.createDocument(“”,””,null);</div><div class="line">xmlDoc.async=”false”;</div><div class="line">xmlDoc.load(“note.xml”);</div><div class="line">例子解释：</div><div class="line">上面代码的第一个行创建一个空的 XML 文档对象。</div><div class="line">第二行关闭异步加载，这样确保在文档完全加载之前解析器不会继续脚本的执行。</div><div class="line">第三行告知解析器加载名为 “note.xml” 的 XML 文档。</div><div class="line">下面的 JavaScript 片段把字符串 txt 载入解析器：</div><div class="line">var parser=new DOMParser();</div><div class="line">var doc=parser.parseFromString(txt,”text/xml”);</div></pre></td></tr></table></figure></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2016/11/02/页面优化相关考虑/">页面优化</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 yangrunshuang 的个人博客">yangrunshuang</a></p>
        <p><span>发布时间:</span>2016年11月02日 - 00时00分</p>
        <p><span>最后更新:</span>2016年11月14日 - 10时06分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2016/11/02/页面优化相关考虑/" title="页面优化">http://yangrunshuang.github.io/2016/11/02/页面优化相关考虑/</a>
            <span class="copy-path" data-clipboard-text="原文: http://yangrunshuang.github.io/2016/11/02/页面优化相关考虑/　　作者: yangrunshuang" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2016/11/14/canvas炫酷特效/">
                    
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2016/09/10/nodeJs/">
                    NodeJS
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>

<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }

    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
            $(".switch-btn, .switch-area").fadeOut(300);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
            $(".switch-btn, .switch-area").fadeIn(500);
        }
    })

    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
        $(".switch-btn, .switch-area").show();
    }
</script>


    <style>
        .toc {
            white-space: nowrap;
            overflow-x: hidden;
        }
    </style>

    <script>
        $(document).ready(function() {
            $(".toc li a").mouseover(function() {
                var title = $(this).attr('href');
                $(this).attr("title", title);
            });
        })
    </script>



<div class="share">
    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
    <a href="#" class="bds_copy" data-cmd="copy" title="复制网址"></a>
    <a href="#" class="bds_mail" data-cmd="mail" title="通过邮件分享"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
    </div>
    <script>
        window._bd_share_config={
            "common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='https://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
    </script>
</div>



    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2016/11/14/canvas炫酷特效/" title="上一篇: ">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2016/09/10/nodeJs/" title="下一篇: NodeJS">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/11/14/canvas炫酷特效/">canvas炫酷特效</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/02/页面优化相关考虑/">页面优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/10/nodeJs/">NodeJS</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/03/05/markdown/">markdown介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/12/03/git&SeaJs studyNote/">git&SeaJs</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/10/http服务器/">服务器</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/06/25/JS常见面试题/">JS常见面试题</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/06/20/git&github studyNote/">git&github</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/05/10/面试题汇总/">面试题汇总</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#toc, .switch-btn, .switch-area").toggle();
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
                $(".switch-btn, .switch-area").fadeToggle(300);
            }
        })
    </script>




    
        <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
        <script>
            var yiliaConfig = {
            fancybox: true,
            mathjax: true,
            animate: true,
            isHome: false,
            isPost: true,
            isArchive: false,
            isTag: false,
            isCategory: false,
            open_in_new: false
            }
        </script>
        
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 yangrunshuang
            </div>
            <div class="footer-right">
                <a href="https://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        <div class="visit">
            <span id="busuanzi_container_site_pv" style='display:none'>
                <span id="site-visit" >本站到访数: 
                    <span id="busuanzi_value_site_uv"></span>
                </span>
            </span>
            <span id="busuanzi_container_page_pv" style='display:none'>
                <span id="page-visit">, 本页阅读量: 
                    <span id="busuanzi_value_page_pv"></span>
                </span>
            </span>
        </div>
    </div>
</footer>
    </div>
    

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 10;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>